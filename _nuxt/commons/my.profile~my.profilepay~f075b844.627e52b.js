(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1058:function(e,t,r){},1080:function(e,t,r){"use strict";r.r(t);var o={name:"WalletPasswordInput",props:{error:{type:Boolean,default:!1}},data:function(){return{password:""}},mounted:function(){document.addEventListener("keyup",this.onInput)},methods:{onInput:function(e){if(["0","1","2","3","4","5","6","7","8","9"].indexOf(e.key)>=0&&(this.password+=e.key),this.password.length>=6)return this.$emit("password",this.password.substr(0,6));"Backspace"===e.key&&(this.password=this.password.substr(0,this.password.length-1))},deleat:function(){this.password=""}}},n=(r(1157),r(12)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"code"},e._l(6,(function(t,o){return r("span",{key:o,class:{"code-item":!0,filled:e.password[o],error:e.error}},[e._v(e._s(e.password[o]?"*":" "))])})),0)}),[],!1,null,"9f626f92",null);t.default=component.exports},1107:function(e,t,r){"use strict";r(1058)},1109:function(e,t,r){},1157:function(e,t,r){"use strict";r(1109)},1202:function(e,t){e.exports={data:function(){return{wehcatTimer:null,wechatBind:{}}},destroyed:function(){window.clearInterval(this.wehcatTimer)},methods:{createQRcode:function(){var e=this;this.$store.dispatch("jv/get","/oauth/wechat/pc/qrcode?type=pc_relation").then((function(t){if(t){e.wechatBind=t;var r=e;e.wehcatTimer=setInterval(r.getWechatStatus,3e3)}}),(function(t){return e.handleError(t)}))},getWechatStatus:function(){var e=this;this.wechatBind&&!this.wechatBind.session_token||this.$store.dispatch("jv/get","/oauth/wechat/pc/bind/".concat(this.wechatBind.session_token)).then((function(t){t._jv.json.bind&&(clearInterval(e.wehcatTimer),e.userinfo(),e.isWechatModify=!1,e.$message.success(e.$t("user.BindSuccess")))}),(function(t){var r=t.response.data.errors;if(Array.isArray(r)&&r.length>0){var o=r[0].detail&&r[0].detail.length>0?r[0].detail[0]:r[0].code,n=r[0].detail&&r[0].detail.length>0?r[0].detail[0]:e.$t("core.".concat(o));if("pc_qrcode_scanning_code"===o)return;clearInterval(e.wehcatTimer),e.$message.error(n),e.createQRcode()}}))}}}},1204:function(e,t,r){},1205:function(e,t,r){},1272:function(e,t,r){"use strict";r.r(t);r(32);var o=r(41),n=r(873),l={name:"ShowAvatar",mixins:[r.n(n).a],props:{userId:{type:String,default:""}},data:function(){return{host:"",header:"",dialogVisible:!0,cropImageFormVisible:!1,previews:{},previewCycle:{},option:{img:"",size:1,full:!1,outputType:"png",canMove:!0,fixedBox:!0,original:!0,canMoveBox:!0,autoCrop:!0,autoCropWidth:150,autoCropHeight:150,centerBox:!1,high:!0,max:99999},show:!0,fixed:!0,fixedNumber:[1,1],downImg:"",loading:!1}},mounted:function(){this.header={authorization:"Bearer ".concat(localStorage.getItem("access_token"))}},methods:{handleClose:function(e){var t=this;this.$confirm("确认关闭？").then((function(){e(),t.$emit("change",t.dialogVisible)})).catch((function(){}))},handleClose2:function(){this.dialogVisible=!1,this.$emit("change",this.dialogVisible)},uploadPhoto:function(){this.$refs.photoFile.click()},selectChange:function(e){var t=e.raw;this.fileChange(t)},fileChange:function(e){var t=e;if(/.(png|jpg|jpeg|JPG|JPEG)$/.test(t.name)){var r=new FileReader;r.readAsDataURL(t);var o=this;r.onload=function(){var e=this.result;o.$nextTick((function(){o.pageImage=e,o.option.img=e,o.cropImageFormVisible=!0}))}}else this.$message({message:"请选择符合格式要求的图片",type:"warning"}),this.$refs.photoFile.value=""},realTime:function(data){this.previews=data,this.previewCycle={width:"".concat(this.previews.w,"px"),height:"".concat(this.previews.h,"px"),overflow:"hidden",margin:"0",zoom:.66666666666}},down:function(){var e=this;this.$refs.cropper.getCropBlob((function(data){e.downImg=data,e.$refs.photoFile.submit(),e.loading=!0}))},httpRequest:function(e){var t=this,r=e.action,data=e.data,n=e.filename,l=new FormData;for(var c in data)l.append(c,data[c]);l.append(n,this.downImg,data.fileName),Object(o.a)({url:r,method:"post",data:l,timeout:2e8}).then((function(e){e&&(t.loading=!1,t.$message.success("图片上传成功"),t.dialogVisible=!1,t.$emit("change",t.dialogVisible))}),(function(e){t.loading=!1,t.handleError(e)}))}}},c=(r(1318),r(12)),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"showAvatar"},[r("el-dialog",{attrs:{title:"头像",visible:e.dialogVisible,width:"620px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("div",{staticClass:"container"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!e.cropImageFormVisible,expression:"!cropImageFormVisible"}],staticStyle:{top:"40%",display:"inline-block",position:"relative","z-index":"999"}},[r("el-upload",{ref:"photoFile",attrs:{action:e.host+"/users/"+e.userId+"/avatar",headers:e.header,accept:"image/*",data:{type:1,order:1},name:"avatar","show-file-list":!1,"auto-upload":!1,"on-change":e.selectChange,"http-request":e.httpRequest}},[r("el-button",{staticStyle:{height:"35px"},attrs:{size:"small"}},[e._v(e._s(e.$t("profile.showavatar")))])],1),e._v(" "),r("p",{staticClass:"uptext"},[e._v("\n          "+e._s(e.$t("profile.supportupload"))+"\n          "),r("span",[e._v(e._s(e.$t("profile.jpgorpng"))+" ")]),e._v(" "+e._s(e.$t("profile.filemost"))+" "),r("span",[e._v("500kb")])])],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.cropImageFormVisible,expression:"cropImageFormVisible"}],staticClass:"imgCrop-content"},[r("div",{staticClass:"cropper-content"},[r("VueCropper",{ref:"cropper",attrs:{img:e.option.img,"output-size":e.option.size,"output-type":e.option.outputType,info:!0,full:e.option.full,fixed:e.fixed,"fixed-number":e.fixedNumber,"can-move":e.option.canMove,"can-move-box":e.option.canMoveBox,"fixed-box":e.option.fixedBox,original:e.option.original,"auto-crop":e.option.autoCrop,"auto-crop-width":e.option.autoCropWidth,"auto-crop-height":e.option.autoCropHeight,"center-box":e.option.centerBox,high:e.option.high,mode:"cover","max-img-size":e.option.max},on:{"real-time":e.realTime}})],1)])]),e._v(" "),r("div",{staticClass:"show-preview",style:{width:e.previews.w+"px",height:e.previews.h+"px",overflow:"hidden",display:"inline-block",position:"absolute","margin-left":"17px","margin-top":"4px"}},[r("div",{staticClass:"preview",style:e.previews.div},[r("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]),e._v(" "),r("div",{staticClass:"show-preview",style:{width:"100px",height:"100px",overflow:"hidden",display:"inline-block",position:"absolute","margin-left":"17px","border-radius":"50%",top:"50%"}},[r("div",{staticClass:"preview",style:e.previewCycle},[r("img",{style:e.previews.img,attrs:{src:e.previews.url}})])]),e._v(" "),r("div",{staticClass:"preview2"},[r("div",{staticClass:"square"},[r("span",{staticClass:"squarep"},[e._v(e._s(e.$t("profile.px1")))])]),e._v(" "),r("div",{staticClass:"circle"},[r("span",{staticClass:"squarep"},[e._v(e._s(e.$t("profile.px2")))])]),e._v(" "),r("div",{staticClass:"pre-button"},[r("el-button",{staticClass:"btnw btn_pay1",attrs:{type:"primary",size:"small"},on:{click:e.down}},[e._v(e._s(e.$t("profile.avataruse")))]),e._v(" "),r("el-button",{staticClass:"btnw btn_pay2 btn2",attrs:{size:"small"},on:{click:e.handleClose2}},[e._v(e._s(e.$t("profile.avatarcancel")))])],1)])])],1)}),[],!1,null,"492fafac",null);t.default=component.exports},1273:function(e,t,r){"use strict";r.r(t);var o={name:"VerifyPhone",props:{error:{type:Boolean,default:!1},passwordErrorTip:{type:String,default:""},mobile:{type:String,default:""}},data:function(){return{}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},mounted:function(){this.$emit("sendsms")},methods:{empty:function(){this.$refs.walletinput.deleat()},findpaypwd:function(){this.$emit("close"),this.$emit("findpaypwd")}}},n=(r(1319),r(12)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("message",{attrs:{title:e.$t("modify.authontitle")},on:{close:function(t){return e.$emit("close")}}},[r("div",{staticClass:"container"},[r("div",{staticClass:"block show-amount"},[r("div",{staticClass:"title"},[e._v(e._s("请输入手机 "+e.mobile+" 的验证码"))]),e._v(" "),r("div",{staticClass:"amount"},[r("span",[e._v(e._s(e.$t("modify.editphonewordtip")))])])]),e._v(" "),r("div",{staticClass:"block input-password"},[r("wallet-password-input",{ref:"walletinput",attrs:{error:e.error},on:{password:function(t){return e.$emit("password",t)}}}),e._v(" "),e.error?r("div",{staticClass:"amount"},[e._v(e._s(e.passwordErrorTip?e.passwordErrorTip:e.$t("core.sms_verify_error")))]):e._e()],1)])])}),[],!1,null,"f2c71ed4",null);t.default=component.exports;installComponents(component,{WalletPasswordInput:r(1080).default,Message:r(963).default})},1318:function(e,t,r){"use strict";r(1204)},1319:function(e,t,r){"use strict";r(1205)},873:function(e,t,r){var o=r(882);r(20),r(66),e.exports={data:function(){var e=this;return{errorCodeHandler:{default:{model_not_found:function(){return e.$router.replace("/error")},not_authenticated:function(){return e.$router.push("/user/login")}},thread:{permission_denied:function(){return e.$router.replace("/error?code=permissionDenied")}}}}},methods:{handleError:function(e){var t=arguments,r=this;return o(regeneratorRuntime.mark((function o(){var n,l,c,d,h,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.length>1&&void 0!==t[1]?t[1]:"",l=e.response.data.errors,!(Array.isArray(l)&&l.length>0)){o.next=17;break}if(c=l[0].code,d=l[0].detail&&l[0].detail.length>0?l[0].detail[0]:l[0].code,h=l[0].detail&&l[0].detail.length>0?l[0].detail[0]:r.$t("core.".concat(d)),"site_closed"!==l[0].code){o.next=10;break}return o.next=9,r.siteClose(l);case 9:return o.abrupt("return",o.sent);case 10:if("need_ext_fields"!==l[0].code){o.next=14;break}return f=r.$store.getters["session/get"]("userId"),r.$router.push("/user/supple-mentary?id=".concat(f)),o.abrupt("return");case 14:"Permission Denied"===c?r.$message.error(r.$t("core.permission_denied2")):"content_banned_show_words"===c?r.$message.error(r.$t("core.content_banned_show_words")+l[0].detail):r.$message.error(h),r.errorCodeHandler.default[c]&&r.errorCodeHandler.default[c](),n&&r.errorCodeHandler[n][c]&&r.errorCodeHandler[n][c]();case 17:case"end":return o.stop()}}),o)})))()},siteClose:function(e){var t=this;return o(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$store.dispatch("forum/setError",{code:e[0].code,detail:e[0].detail&&e[0].detail.length>0&&e[0].detail[0]});case 3:return r.next=5,t.$router.push("/site/close");case 5:r.next=9;break;case 7:r.prev=7,r.t0=r.catch(0);case 9:case"end":return r.stop()}}),r,null,[[0,7]])})))()}}}},874:function(e,t){e.exports={data:function(){return{title:"‎"}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},head:function(){return{title:"‎"!==this.title&&this.forums&&this.forums.set_site&&this.forums.set_site.site_name?"".concat(this.title," - ").concat(this.forums.set_site.site_name):this.title}}}},882:function(e,t){function r(e,t,r,o,n,l,c){try{var d=e[l](c),h=d.value}catch(e){return void r(e)}d.done?t(h):Promise.resolve(h).then(o,n)}e.exports=function(e){return function(){var t=this,o=arguments;return new Promise((function(n,l){var c=e.apply(t,o);function d(e){r(c,n,l,d,h,"next",e)}function h(e){r(c,n,l,d,h,"throw",e)}d(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},891:function(e,t,r){"use strict";r.r(t);var o={name:"Cover",mounted:function(){var e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgba(0, 0, 0, .4)",e.style.zIndex="20",e.id="cover",document.querySelector("body").appendChild(e)},destroyed:function(){var e=document.querySelector("#cover");e.parentNode.removeChild(e)},render:function(){return""}},n=r(12),component=Object(n.a)(o,void 0,void 0,!1,null,null,null);t.default=component.exports},963:function(e,t,r){"use strict";r.r(t);var o={name:"Message",props:{title:{type:String,default:""}}},n=(r(1107),r(12)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Cover"),e._v(" "),r("div",{staticClass:"checkout-counter"},[r("div",{staticClass:"container-title"},[r("div",{staticClass:"title"},[e._v(e._s(e.title))]),e._v(" "),r("svg-icon",{staticStyle:{"font-size":"14px",cursor:"pointer",fill:"#6d6d6d"},attrs:{type:"close"},on:{click:function(t){return e.$emit("close")}}})],1),e._v(" "),e._t("default")],2)],1)}),[],!1,null,"2f83799e",null);t.default=component.exports;installComponents(component,{Cover:r(891).default,SvgIcon:r(78).default})}}]);