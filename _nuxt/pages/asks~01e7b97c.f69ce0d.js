/*! For license information please see ../LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1029:function(t,e,r){"use strict";r.r(e);r(18);var n={name:"IndexFilter",props:{showSort:{type:Boolean,default:!1}},data:function(){return{filterQuery:[{label:"推荐",value:"isSort",isShow:!1},{label:this.$t("home.all"),value:"",isShow:!0},{label:this.$t("home.essence"),value:"isEssence",isShow:!0},{label:this.$t("home.followed"),value:"followed",isShow:!1}],filterType:[{label:this.$t("home.noLimit"),value:""},{label:this.$t("home.text"),value:0},{label:this.$t("home.invitation"),value:1},{label:this.$t("home.video"),value:2},{label:this.$t("home.picture"),value:3},{label:this.$t("home.voice"),value:4},{label:this.$t("home.question"),value:5},{label:this.$t("home.product"),value:6}],filterSort:[{label:this.$t("home.noLimit"),value:""},{label:this.$t("home.sortCreatedAt"),value:"-createdAt"},{label:this.$t("home.sortUpdatedAt"),value:"-updatedAt"}],query:{filter:"",filterType:"",filterSort:""}}},computed:{userId:function(){return this.$store.getters["session/get"]("userId")}},watch:{userId:function(t){this.filterQuery[3].isShow=t>0},showSort:function(t){t?(this.filterQuery[0].isShow=!0,this.query.filter="isSort"):(this.filterQuery[0].isShow=!1,this.query.filter="")}},mounted:function(){this.userId>0?this.filterQuery[3].isShow=!0:this.filterQuery[3].isShow=!1,this.showSort?(this.filterQuery[0].isShow=!0,this.query.filter="isSort"):(this.filterQuery[0].isShow=!1,this.query.filter="")},methods:{onClickFilter:function(t){"followed"!==t||this.userId&&0!=+this.userId?(this.query.filter=t,this.$emit("onChangeFilter",t)):this.$message.error(this.$t("core.not_authenticated"))},handleCommandType:function(t){this.query.filterType=t,this.$emit("onChangeType",t)},handleCommandSort:function(t){this.query.filterSort=t,this.$emit("onChangeSort",t)}}},o=(r(974),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"index-top-conttainer"},[r("div",{staticClass:"index-filter"},[t._l(t.filterQuery,(function(e,n){return[e.isShow?r("div",{key:n,staticClass:"filter-btn",class:{active:t.query.filter===e.value},on:{click:function(r){return t.onClickFilter(e.value)}}},[t._v("\n        "+t._s(e.label)+"\n      ")]):t._e()]})),t._v(" "),r("el-dropdown",{staticClass:"filter-dropdown",attrs:{placement:"bottom"},on:{command:t.handleCommandType}},[r("span",{staticClass:"el-dropdown-link",class:{active:""!==t.query.filterType}},[t._v("\n        "+t._s(t.$t("home.filterType"))),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.filterType,(function(e,n){return r("el-dropdown-item",{key:n,class:{active:e.value===t.query.filterType},attrs:{command:e.value}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1)],1),t._v(" "),r("el-dropdown",{staticClass:"filter-dropdown",attrs:{placement:"bottom"},on:{command:t.handleCommandSort}},[r("span",{staticClass:"el-dropdown-link",class:{active:""!==t.query.filterSort}},[t._v("\n        "+t._s(t.$t("core.sort"))),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.filterSort,(function(e,n){return r("el-dropdown-item",{key:n,class:{active:e.value===t.query.filterSort},attrs:{command:e.value}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1)],1)],2),t._v(" "),r("create-post-popover")],1)}),[],!1,null,"19faa7e0",null);e.default=component.exports;installComponents(component,{CreatePostPopover:r(956).default})},1030:function(t,e,r){"use strict";r.r(e);r(14),r(32);var n=r(878),time=r(875),o=r(879),c=r(873),l=r.n(c),d=r(208),h=r.n(d),f={name:"PostItems",filters:{formatDate:function(t){return Object(time.b)(t)}},mixins:[l.a,h.a],props:{item:{type:Object,default:function(){}},showLike:{type:Boolean,default:!0},showComment:{type:Boolean,default:!0},showShare:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},infoimage:{type:Boolean,default:!1},canDetail:{type:Boolean,default:!1},padding:{type:String,default:"20.5px 20px 30px"}},data:function(){return{loading:!1,showVideoPop:!1,isLiked:!1,currentAudio:{id:"",url:"",currentTime:"",duration:"",audio:"",seeking:!1,isPlay:!1,isLoading:!1}}},computed:{unpaid:function(){return!(this.item.thread.paid||0===parseFloat(this.item.thread.price))},forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{item:{handler:function(t){this.isLiked=t.thread&&t.thread.isLiked,this.likeCount=t.thread&&t.thread.likedCount},deep:!0,immediate:!0}},mounted:function(){this.currentAudio.audio=document.getElementById("audio-players".concat(this.item&&this.item.thread&&this.item.thread.pid))},methods:{handleLike:function(){var t=this;if(this.$store.getters["session/get"]("isLogin")){if(this.loading)return;if(!this.item.thread.canLike)return void this.$message.error(this.$t("topic.noThreadLikePermission"));this.loading=!0;var e=!this.isLiked,r={_jv:{type:"posts",id:this.item.thread&&this.item.thread.firstPostId},isLiked:e};return this.$store.dispatch("jv/patch",r).then((function(){t.$message.success(e?t.$t("discuzq.msgBox.likeSuccess"):t.$t("discuzq.msgBox.cancelLikeSuccess")),e?t.likeCount+=1:t.likeCount-=1,t.isLiked=e,t.$emit("change")}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}this.$message.warning("请登录"),window.setTimeout((function(){t.headerTologin()}),1e3)},toDetail:function(){this.item.thread.isDraft||this.canViewPostsFn()&&this.routerLink()},onClickImage:function(){this.unpaid&&this.canViewPostsFn()&&this.routerLink()},openVideo:function(){this.canViewPostsFn()&&(this.unpaid?this.routerLink():"/"===this.$route.path||"/site/search"===this.$route.path||"category-id"===this.$route.name?this.$emit("showVideoFn",this.item.thread.extension.video):this.showVideoPop=!0)},routerLink:function(){window.open("/thread/".concat(this.item.thread&&this.item.thread.pid),"_blank")},onClickContent:function(t){if(!this.item.thread.isDraft){var e=t||window.event;"a"!==(e.target||e.srcElement).nodeName.toLocaleLowerCase()&&this.toDetail()}},canViewPostsFn:function(){var t=this;return this.item.thread.canViewPost?!this.canDetail||(this.$message.warning(this.$t("topic.joinAfterView")),!1):(this.$store.getters["session/get"]("isLogin")?this.$message.warning(this.$t("home.noPostingTopic")):(this.$message.warning(this.$t("core.not_authenticated")),window.setTimeout((function(){t.headerTologin()}),1e3)),!1)},formatTopicHTML:function(html){return n.a.parse(html)},extensionValidate:function(t){return o.extensionList.indexOf(t.toUpperCase())>0?t.toUpperCase():"UNKNOWN"},play:function(t){var e=this;this.unpaid?this.routerLink():this.canViewPostsFn()&&this.currentAudio.audio&&(this.currentAudio.id!==t.pid&&(this.resetAudio(this.currentAudio.audio),this.currentAudio.url=t.coverUrl||t.mediaUrl,this.currentAudio.id=t.pid,this.currentAudio.audio.src=this.currentAudio.url,this.currentAudio.isLoading=!0,this.currentAudio.audio.load()),window.setTimeout((function(){e.currentAudio.audio.play(),e.currentAudio.isPlay=!0,e.currentAudio.audio.addEventListener("timeupdate",e.onProgressing),e.currentAudio.audio.addEventListener("ended",e.onEnded),e.$emit("audioPlay",e.currentAudio.id)}),0))},onProgressing:function(){this.currentAudio.seeking||(this.currentAudio.isLoading=!1,this.currentAudio.duration=this.currentAudio.audio.duration,this.currentAudio.currentTime=this.currentAudio.audio.currentTime)},onEnded:function(){this.resetAudio(this.currentAudio.audio)},resetAudio:function(audio){audio&&(audio.removeEventListener("timeupdate",this.onProgressing),audio.removeEventListener("ended",this.onEnded),this.currentAudio.isPlay=!1,this.currentAudio.duration="",this.currentAudio.currentTime="")},pause:function(){this.currentAudio.audio&&(this.currentAudio.isLoading=!1,this.currentAudio.isPlay=!1,this.currentAudio.audio.pause())},seek:function(time){this.currentAudio.audio&&(this.currentAudio.seeking=!1,this.currentAudio.currentTime=time,this.currentAudio.audio.currentTime=time)},seeking:function(time){this.currentAudio.seeking=!0,this.currentAudio.currentTime=time}}},m=(r(975),r(12)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"post-container",style:{padding:t.padding}},[t.item.thread.isEssence?r("div",{staticClass:"essence"},[r("svg-icon",{attrs:{type:"index-essence"}})],1):t._e(),t._v(" "),5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?r("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.thread.extension.question.beUserId,username:t.item.thread.extension.question.beUserName},"prevent-jump":t.canDetail}}):t.item.user?r("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.user.pid,username:t.item.user.userName,avatarUrl:t.item.user.avatar,isReal:t.item.user.isRealName},"prevent-jump":t.canDetail}}):t._e(),t._v(" "),r("div",{staticClass:"main-cont"},[r("div",{staticClass:"top-flex"},[r("div",{staticClass:"top-user-info"},[5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?r("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[r("span",{staticClass:"user-name"},[t._v(t._s(t.item.thread.extension.question.beUserName))]),t._v(" "),t.item.thread.extension&&t.item.thread.extension.question&&t.item.thread.extension.question.group&&t.item.thread.extension.question.group.isDisplay?r("span",{staticClass:"admin"},[t._v("\n            ("+t._s(t.item.thread.extension.question.group.groupName)+")\n          ")]):t._e()]):t.item.user?r("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[r("span",{staticClass:"user-name"},[t._v(t._s(t.item.user.userName))]),t._v(" "),t.item.group?r("span",{staticClass:"admin"},[t._v("\n            "+t._s(t.item.group.isDisplay?"("+t.item.group.groupName+")":"")+"\n          ")]):t._e()]):t._e(),t._v(" "),5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?r("div",{staticClass:"answered"},[t._v("\n          "+t._s(t.$t("topic.answered"))+"\n        ")]):t._e()],1),t._v(" "),r("div",{staticClass:"time"},[t.item.thread.createdAt?[t._v(t._s(t.$t("topic.publishAt"))+"\n          "+t._s(t._f("formatDate")(t.item.thread.createdAt)))]:t._e()],2)]),t._v(" "),5===t.item.thread.type?r("div",{staticClass:"question-user"},[t.item.thread.extension.question&&0===t.item.thread.extension.question.isAnswer?[t._v("\n        "+t._s(t.$t("topic.be"))+"\n        "),t.item.thread.extension.question?r("nuxt-link",{staticClass:"grey",attrs:{to:t.item.thread.extension.question.beUserId>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[t._v("@"+t._s(t.item.thread.extension.question.beUserName))]):t._e(),t._v("\n        "+t._s(t.$t("topic.question"))+"\n      ")]:t._e(),t._v(" "),t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?[t._v("\n        "+t._s(t.$t("topic.answer"))+"\n        "),t.item.user?r("nuxt-link",{staticClass:"grey",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[t._v("@"+t._s(t.item.user.userName))]):t._e(),t._v("\n        "+t._s(t.$t("topic.of"))+t._s(t.$t("topic.question"))+"\n      ")]:t._e()],2):t._e(),t._v(" "),[r("div",{staticClass:"first-post",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[r("a",{attrs:{href:"/thread/"+(t.item&&t.item.thread.pid)},on:{click:function(e){return e.preventDefault(),t.onClickContent(e)}}},[1===t.item.thread.type?r("div",{staticClass:"title"},[t._v("\n            "+t._s(t.$t("home.released"))+"\n            "),r("svg-icon",{directives:[{name:"show",rawName:"v-show",value:parseFloat(t.item.thread.price)>0||parseFloat(t.item.thread.attachmentPrice)>0,expression:"\n                parseFloat(item.thread.price) > 0 ||\n                  parseFloat(item.thread.attachmentPrice) > 0\n              "}],staticClass:"blue icon-pay-yuan-inline",attrs:{type:"pay-yuan"}}),t._v(" "),r("span",{staticClass:"blue"},[t._v(t._s(t.item.thread.title))])],1):r("div",{staticClass:"content"},[5===t.item.thread.type?r("svg-icon",{staticClass:"icon-pay-yuan blue",attrs:{type:"question-icon"}}):6===t.item.thread.type?r("svg-icon",{staticClass:"icon-pay-yuan blue",attrs:{type:"product-icon"}}):parseFloat(t.item.thread.price)>0||parseFloat(t.item.thread.attachmentPrice)>0?r("svg-icon",{staticClass:"icon-pay-yuan grey",attrs:{type:"pay-yuan"}}):t._e(),t._v(" "),r("div",{class:{"content-block":5===t.item.thread.type||6===t.item.thread.type||parseFloat(t.item.thread.price)>0,blue:5===t.item.thread.type},domProps:{innerHTML:t._s(t.$xss(t.formatTopicHTML(t.item.thread.summary)))}})],1)]),t._v(" "),t.item.attachment&&t.item.attachment.length>0?r("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{url:"data-source"},expression:"{ url: 'data-source' }"}],staticClass:"images",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},t._l(t.item.attachment.slice(0,3),(function(image,e){return r("el-image",{key:e,class:{image:!0,infoimage:t.infoimage},attrs:{src:image.thumbUrl,"data-source":t.unpaid?"":image.url,alt:image.filename,fit:"cover",lazy:t.lazy},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClickImage(e)}}},[r("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[r("i",{staticClass:"el-icon-loading"})])])})),1):t._e(),t._v(" "),t.item.attachment&&t.item.attachment.length>3?r("div",{staticClass:"image-count",on:{click:t.toDetail}},[t._v("\n          "+t._s(t.$t("home.total"))+" "+t._s(t.item.attachment.length)+"\n          "+t._s(t.$t("home.seeAllImage"))+"\n        ")]):t._e(),t._v(" "),2===t.item.thread.type&&t.item.thread.extension.video?r("div",{staticClass:"video-main",on:{click:function(e){return e.stopPropagation(),t.openVideo(e)}}},[t.item.thread.extension.video.coverUrl?r("el-image",{staticClass:"video-img-cover",attrs:{src:t.item.thread.extension.video.coverUrl,alt:t.item.thread.extension.video.fileName,fit:"cover",lazy:t.lazy}}):r("div",{staticClass:"no-cover"},[t._v(t._s(t.$t("home.noPoster")))]),t._v(" "),r("svg-icon",{staticClass:"video-play",attrs:{type:"video-play"}})],1):t._e(),t._v(" "),t.item.attachments&&t.item.attachments.length>0?r("div",{staticClass:"attachment",on:{click:t.toDetail}},[r("svg-icon",{attrs:{type:t.extensionValidate(t.item.attachments[0].extension)}}),t._v(" "),r("div",{staticClass:"name text-hidden"},[t._v("\n            "+t._s(t.item.attachments[0].fileName)+"\n          ")]),t._v(" "),t.item.attachments.length>1?r("div",{staticClass:"total"},[t._v("\n            "+t._s(t.$t("home.etc")+t.item.attachments.length+t.$t("home.attachmentTotal"))+"\n          ")]):t._e()],1):t._e()]),t._v(" "),6===t.item.thread.type?r("product-items",{attrs:{item:t.item.thread.extension&&t.item.thread.extension.goods}}):t._e(),t._v(" "),4===t.item.thread.type?r("div",{on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[r("APlayers",{attrs:{file:t.item.thread&&t.item.thread.extension&&t.item.thread.extension.video,"current-audio":t.currentAudio},on:{play:t.play,pause:t.pause,seek:t.seek,seeking:t.seeking}}),t._v(" "),r("audio",{staticClass:"audio-players",staticStyle:{display:"none"},attrs:{id:"audio-players"+(t.item.thread&&t.item.thread.pid),src:t.currentAudio.url}})],1):t._e(),t._v(" "),t.item.thread.location?r("nuxt-link",{staticClass:"location",attrs:{to:"/topic/position?longitude="+t.item.thread.longitude+"&latitude="+t.item.thread.latitude}},[r("span",{staticClass:"flex"},[r("svg-icon",{staticClass:"icon",attrs:{type:"location"}}),t._v("\n          "+t._s(t.item.thread.location)+"\n        ")],1)]):t._e(),t._v(" "),t.canDetail?t._e():r("div",{staticClass:"bottom-handle"},[r("div",{staticClass:"left"},[t.showLike?r("div",{staticClass:"btn like",class:{liked:t.isLiked},on:{click:t.handleLike}},[r("svg-icon",{staticClass:"icon",attrs:{type:"like"},on:{click:t.handleLike}}),t._v("\n            "+t._s(t.isLiked?t.$t("topic.liked"):t.$t("topic.like"))+"\n            "+t._s(t.likeCount>0?t.likeCount:"")+"\n          ")],1):t._e(),t._v(" "),t.showComment?r("div",{staticClass:"btn comment",on:{click:t.toDetail}},[r("svg-icon",{staticClass:"icon",attrs:{type:"post-comment"}}),t._v("\n            "+t._s(t.$t("topic.comment"))+"\n            "+t._s(t.item.thread.postCount>0?t.item.thread.postCount:"")+"\n          ")],1):t._e(),t._v(" "),t.item.thread&&t.item.thread.pid&&t.showShare?r("share-popover",{attrs:{"threads-id":t.item.thread.pid}},[r("div",{staticClass:"btn share"},[r("svg-icon",{staticClass:"icon",attrs:{type:"link"}}),t._v("\n              "+t._s(t.$t("topic.share"))+"\n            ")],1)]):t._e(),t._v(" "),t._t("btn-edit"),t._v(" "),t._t("btn-delete")],2),t._v(" "),t._t("bottom-right")],2)]],2),t._v(" "),t.showVideoPop?r("dplayer-pop",{attrs:{"cover-url":t.item.thread.extension.video.coverUrl,url:t.item.thread.extension.video.mediaUrl},on:{remove:function(e){t.showVideoPop=!1}}}):t._e()],1)}),[],!1,null,"f59ed810",null);e.default=component.exports;installComponents(component,{SvgIcon:r(78).default,Avatar:r(344).default,ProductItems:r(943).default,SharePopover:r(887).default,DplayerPop:r(876).default})},1031:function(t,e,r){"use strict";r.r(e);var n=r(79),o=(r(32),r(873)),c=r.n(o),l=r(210),d={name:"Category",mixins:[c.a],props:{postLoading:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data:function(){return{categoryList:[],selectId:0,selectId_parent:0}},watch:{list:{handler:function(t){0===this.categoryList.length&&this.handleData(t)},deep:!0}},mounted:function(){0===this.categoryList.length&&this.getCategoryList(),this.$route.params.id&&(this.selectId=+this.$route.params.id)},methods:{getCategoryList:function(){var t=this;l.a.readCategories().then((function(e){var r=Object(n.a)(e.Data)||[];t.handleData(r)}),(function(e){t.handleError(e)}))},handleData:function(data){var t=this,e=0;this.categoryList=[],data.forEach((function(r){var n=!1,o=[];e+=r.threadCount,r.children&&r.children.length>0&&(n=!0,r.children.forEach((function(t){o.push({id:parseInt(t.pid),search_ids:t.searchIds,name:t.name,thread_count:t.threadCount})}))),t.categoryList.push({id:parseInt(r.pid),search_ids:r.searchIds,name:r.name,thread_count:r.threadCount,hasChild:n,children:o})})),this.categoryList.unshift({id:0,search_ids:"0",name:this.$t("topic.whole"),thread_count:e}),this.categoryList.forEach((function(e){e.id===t.selectId?t.selectId_parent=e.id:e.children&&e.children.forEach((function(r){r.id===t.selectId&&(t.selectId_parent=e.id)}))}))},onChange:function(t,e,r){this.postLoading||(this.selectId=t,this.selectId_parent=e,this.$emit("onChange",{id:t,search_ids:r}))}}},h=(r(979),r(12)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.categoryList&&t.categoryList.length>0?r("div",{staticClass:"category-container"},t._l(t.categoryList,(function(e,n){return r("div",{key:n},[r("div",{staticClass:"category-item",class:{active:t.selectId===e.id||t.selectId_parent===e.id,loading:t.postLoading},on:{click:function(r){return t.onChange(e.id,e.id,e.search_ids)}}},[t.selectId_parent===e.id?r("i",{staticClass:"el-icon-arrow-left arrow-icon"}):t._e(),t._v(" "),r("div",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"count"},[t._v(t._s(e.thread_count))])]),t._v(" "),e.hasChild&&e.children.length>0?r("div",t._l(e.children,(function(n,o){return r("div",{directives:[{name:"show",rawName:"v-show",value:t.selectId_parent===e.id,expression:"selectId_parent === item.id"}],key:o,staticClass:"category-item category-item-sub",class:{active:t.selectId===n.id,loading:t.postLoading},on:{click:function(r){return t.onChange(n.id,e.id,n.search_ids)}}},[r("div",{staticClass:"title"},[t._v(t._s(n.name))]),t._v(" "),r("div",{staticClass:"count"},[t._v(t._s(n.thread_count))])])})),0):t._e()])})),0):t._e()}),[],!1,null,"369670e2",null);e.default=component.exports},1032:function(t,e,r){"use strict";r.r(e);r(14),r(32);var n=r(878),time=r(875),o=r(879),c=r(873),l=r.n(c),d=r(208),h=r.n(d),f={name:"PostItemPays",filters:{formatDate:function(t){return Object(time.b)(t)}},mixins:[l.a,h.a],props:{item:{type:Object,default:function(){}},showLike:{type:Boolean,default:!0},showComment:{type:Boolean,default:!0},showShare:{type:Boolean,default:!0},lazy:{type:Boolean,default:!0},infoimage:{type:Boolean,default:!1},canDetail:{type:Boolean,default:!1},padding:{type:String,default:"20.5px 20px 30px"}},data:function(){return{loading:!1,showVideoPop:!1,isLiked:!1,currentAudio:{id:"",url:"",currentTime:"",duration:"",audio:"",seeking:!1,isPlay:!1,isLoading:!1}}},computed:{unpaid:function(){return!(this.item.thread.paid||0===parseFloat(this.item.thread.price))},forums:function(){return this.$store.state.site.info.attributes||{}},integral:function(){return this.forums&&this.forums.set_site&&this.forums.set_site.site_integral&&this.forums.set_site.site_integral[3].ivalue},unintegral:function(){return this.forums&&this.forums.set_site&&this.forums.set_site.site_integral&&this.forums.set_site.site_integral[3].unvalue}},watch:{item:{handler:function(t){this.isLiked=t.thread&&t.thread.isLiked,this.likeCount=t.thread&&t.thread.likedCount},deep:!0,immediate:!0}},mounted:function(){this.currentAudio.audio=document.getElementById("audio-players".concat(this.item&&this.item.thread&&this.item.thread.pid))},methods:{handleLike:function(){var t=this;if(this.$store.getters["session/get"]("isLogin")){if(this.loading)return;if(!this.item.thread.canLike)return void this.$message.error(this.$t("topic.noThreadLikePermission"));this.loading=!0;var e=!this.isLiked,r={_jv:{type:"posts",id:this.item.thread&&this.item.thread.firstPostId},isLiked:e};return this.$store.dispatch("jv/patch",r).then((function(){0==t.integral?t.$message.success(e?t.$t("discuzq.msgBox.likeSuccess"):t.$t("discuzq.msgBox.cancelLikeSuccess")):t.$message.success(e?t.$t("discuzq.msgBox.likeSuccess")+" 奖励积分：+"+t.integral:t.$t("discuzq.msgBox.cancelLikeSuccess")+" 减掉积分：-"+t.unintegral),e?t.likeCount+=1:t.likeCount-=1,t.isLiked=e,t.$emit("change")}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))}this.$message.warning("请登录"),window.setTimeout((function(){t.headerTologin()}),1e3)},toDetail:function(){this.item.thread.isDraft||this.canViewPostsFn()&&this.routerLink()},onClickImage:function(){this.unpaid&&this.canViewPostsFn()&&this.routerLink()},openVideo:function(){this.canViewPostsFn()&&(this.unpaid?this.routerLink():"/"===this.$route.path||"/site/search"===this.$route.path||"category-id"===this.$route.name?this.$emit("showVideoFn",this.item.thread.extension.video):this.showVideoPop=!0)},routerLink:function(){window.open("/thread/".concat(this.item.thread&&this.item.thread.pid),"_blank")},onClickContent:function(t){if(!this.item.isDraft){var e=t||window.event;"a"!==(e.target||e.srcElement).nodeName.toLocaleLowerCase()&&this.toDetail()}},canViewPostsFn:function(){var t=this;return this.item.thread.canViewPost?!this.canDetail||(this.$message.warning(this.$t("topic.joinAfterView")),!1):(this.$store.getters["session/get"]("isLogin")?this.$message.warning(this.$t("home.noPostingTopic")):(this.$message.warning(this.$t("core.not_authenticated")),window.setTimeout((function(){t.headerTologin()}),1e3)),!1)},formatTopicHTML:function(html){return n.a.parse(html)},extensionValidate:function(t){return o.extensionList.indexOf(t.toUpperCase())>0?t.toUpperCase():"UNKNOWN"},play:function(t){var e=this;this.unpaid?this.routerLink():this.canViewPostsFn()&&this.currentAudio.audio&&(this.currentAudio.id!==t.pid&&(this.resetAudio(this.currentAudio.audio),this.currentAudio.url=t.coverUrl||t.mediaUrl,this.currentAudio.id=t.pid,this.currentAudio.audio.src=this.currentAudio.url,this.currentAudio.isLoading=!0,this.currentAudio.audio.load()),window.setTimeout((function(){e.currentAudio.audio.play(),e.currentAudio.isPlay=!0,e.currentAudio.audio.addEventListener("timeupdate",e.onProgressing),e.currentAudio.audio.addEventListener("ended",e.onEnded),e.$emit("audioPlay",e.currentAudio.id)}),0))},onProgressing:function(){this.currentAudio.seeking||(this.currentAudio.isLoading=!1,this.currentAudio.duration=this.currentAudio.audio.duration,this.currentAudio.currentTime=this.currentAudio.audio.currentTime)},onEnded:function(){this.resetAudio(this.currentAudio.audio)},resetAudio:function(audio){audio&&(audio.removeEventListener("timeupdate",this.onProgressing),audio.removeEventListener("ended",this.onEnded),this.currentAudio.isPlay=!1,this.currentAudio.duration="",this.currentAudio.currentTime="")},pause:function(){this.currentAudio.audio&&(this.currentAudio.isLoading=!1,this.currentAudio.isPlay=!1,this.currentAudio.audio.pause())},seek:function(time){this.currentAudio.audio&&(this.currentAudio.seeking=!1,this.currentAudio.currentTime=time,this.currentAudio.audio.currentTime=time)},seeking:function(time){this.currentAudio.seeking=!0,this.currentAudio.currentTime=time}}},m=(r(980),r(12)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-padding-line"},[n("div",{staticClass:"post-container"},[t.item.thread.isEssence?n("div",{staticClass:"essence"},[n("img",{attrs:{src:r(885),alt:""}})]):t._e(),t._v(" "),n("div",{staticClass:"post-header"},[5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?n("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.thread.extension.question.beUserId,username:t.item.thread.extension.question.beUserName},size:"40",round:!0,"prevent-jump":t.canDetail}}):t.item.user?n("avatar",{staticClass:"avatar",attrs:{user:{id:t.item.user.pid,username:t.item.user.userName,avatarUrl:t.item.user.avatar,isReal:t.item.user.isRealName},size:"40",round:!0,"prevent-jump":t.canDetail}}):t._e(),t._v(" "),5===t.item.thread.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?n("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[n("span",{staticClass:"user-name"},[t._v(t._s(t.item.thread.extension.question.beUserName))]),t._v(" "),n("img",{staticClass:"growup-img",attrs:{src:t.item.user.growup.growupimageUrl}}),t._v(" "),t.item.thread.extension&&t.item.thread.extension.question&&t.item.thread.extension.question.group&&t.item.thread.extension.question.group.isDisplay?n("span",{staticClass:"admin"},[t._v("\n          ("+t._s(t.item.thread.extension.question.group.groupName)+")\n        ")]):t._e()]):t.item.user?n("nuxt-link",{staticClass:"user-info",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[n("span",{staticClass:"user-name"},[t._v(t._s(t.item.user.userName))]),t._v(" "),n("img",{staticClass:"growup-img",attrs:{src:t.item.user.growup.growupimageUrl}}),t._v(" "),t.item.group?n("span",{staticClass:"admin"},[t._v("\n          "+t._s(t.item.group.isDisplay?"("+t.item.group.groupName+")":"")+"\n        ")]):t._e()]):t._e(),t._v(" "),5===t.item.type&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?n("div",{staticClass:"answered"},[t._v(t._s(t.$t("topic.answered")))]):t._e()],1),t._v(" "),n("div",{staticClass:"post-content"},[n("div",{staticClass:"first-post",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[n("div",{staticClass:"first-post-desc",on:{click:t.onClickContent}},[n("div",{staticClass:"first-post-desc__tips"},[0!==t.item.thread.type&&1!==t.item.thread.type||!t.item.thread.isRedPacket?t._e():n("img",{staticClass:"first-post-img",attrs:{src:r(901)}}),t._v(" "),5===t.item.thread.type&&t.item.rewards&&0===t.item.rewards.type?n("img",{staticClass:"first-post-img",attrs:{src:r(902)}}):5===t.item.thread.type?n("img",{staticClass:"first-post-img",attrs:{src:r(903)}}):t._e(),t._v(" "),6===t.item.thread.type?n("img",{staticClass:"first-post-img",attrs:{src:r(951)}}):t._e(),t._v(" "),7===t.item.thread.type?n("img",{staticClass:"first-post-img",attrs:{src:r(952)}}):t._e(),t._v(" "),5===t.item.thread.type&&t.item.rewards&&0===t.item.rewards.type?n("span",{staticClass:"first-post-tip"},[t._v("【￥"+t._s(t.item.rewards.money)+"】")]):t._e(),t._v(" "),parseFloat(t.item.thread.price)>0||parseFloat(t.item.thread.attachmentPrice)>0?n("img",{staticClass:"first-post-coin",attrs:{src:r(889)}}):t._e()]),t._v(" "),1===t.item.thread.type?n("p",{staticClass:"content"},[t._v(t._s(t.item.thread.title))]):n("p",{staticClass:"content",domProps:{innerHTML:t._s(t.$xss(t.formatTopicHTML(t.item.thread.summary)))}}),t._v(" "),0!==t.item.thread.type&&3!==t.item.thread.type?n("p",{staticClass:"content",domProps:{innerHTML:t._s(t.$xss(t.formatTopicHTML(t.item.thread.description)))}}):t._e(),t._v(" "),5===t.item.thread.type?n("span",[t.item.thread.extension&&t.item.thread.extension.question&&0===t.item.thread.extension.question.isAnswer?[t.item.thread.extension&&t.item.thread.extension.question&&t.item.thread.extension.question.beUserId?n("nuxt-link",{staticClass:"questioner",attrs:{to:t.item.thread.extension.question.beUserId>0?"/user/"+t.item.thread.extension.question.beUserId:""}},[t._v("@"+t._s(t.item.thread.extension.question.beUserName))]):t._e()]:t._e(),t._v(" "),t.item.thread.extension&&t.item.thread.extension.question&&1===t.item.thread.extension.question.isAnswer?[t.item.user?n("nuxt-link",{staticClass:"questioner",attrs:{to:t.item.user.pid>0?"/user/"+t.item.user.pid:""}},[t._v("@"+t._s(t.item.user.userName))]):t._e()]:t._e()],2):t._e()]),t._v(" "),t.item.attachment&&t.item.attachment.length>0?n("div",{directives:[{name:"viewer",rawName:"v-viewer",value:{url:"data-source"},expression:"{ url: 'data-source' }"}],staticClass:"images",on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},t._l(t.item.attachment.slice(0,3),(function(image,e){return n("el-image",{key:e,class:{image:!0,infoimage:t.infoimage},attrs:{src:image.thumbUrl,"data-source":t.unpaid?"":image.url,alt:image.filename,fit:"cover",lazy:t.lazy},on:{click:function(e){return e.target!==e.currentTarget?null:t.onClickImage(e)}}},[n("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[n("i",{staticClass:"el-icon-loading"})])])})),1):t._e(),t._v(" "),t.item.attachment&&t.item.attachment.length>3?n("div",{staticClass:"image-count",on:{click:t.toDetail}},[t._v("\n          "+t._s(t.$t("home.total"))+" "+t._s(t.item.attachment.length)+"\n          "+t._s(t.$t("home.seeAllImage"))+"\n        ")]):t._e(),t._v(" "),2===t.item.thread.type&&t.item.thread.extension.video?n("div",{staticClass:"video-main",on:{click:function(e){return e.stopPropagation(),t.openVideo(e)}}},[t.item.thread.extension.video.coverUrl?n("el-image",{staticClass:"video-img-cover",attrs:{src:t.item.thread.extension.video.coverUrl,alt:t.item.thread.extension.video.fileName,fit:"cover",lazy:t.lazy}}):n("div",{staticClass:"no-cover"},[t._v(t._s(t.$t("home.noPoster")))]),t._v(" "),n("svg-icon",{staticClass:"video-play",attrs:{type:"video-play"}})],1):t._e(),t._v(" "),t.item.attachments&&t.item.attachments.length>0?n("div",{staticClass:"attachment",on:{click:t.toDetail}},[n("svg-icon",{attrs:{type:t.extensionValidate(t.item.attachments[0].extension)}}),t._v(" "),n("div",{staticClass:"name text-hidden"},[t._v("\n            "+t._s(t.item.attachments[0].fileName)+"\n          ")]),t._v(" "),t.item.attachments.length>1?n("div",{staticClass:"total"},[t._v("\n            "+t._s(t.$t("home.etc")+t.item.attachments.length+t.$t("home.attachmentTotal"))+"\n          ")]):t._e()],1):t._e()]),t._v(" "),6===t.item.thread.type?n("product-items",{attrs:{item:t.item.thread.extension&&t.item.thread.extension.goods}}):t._e(),t._v(" "),4===t.item.thread.type?n("div",{on:{click:function(e){return e.target!==e.currentTarget?null:t.toDetail(e)}}},[n("APlayers",{attrs:{file:t.item.thread&&t.item.thread.extension&&t.item.thread.extension.video,"current-audio":t.currentAudio},on:{play:t.play,pause:t.pause,seek:t.seek,seeking:t.seeking}}),t._v(" "),n("audio",{staticClass:"audio-players",staticStyle:{display:"none"},attrs:{id:"audio-players"+(t.item.thread&&t.item.thread.pid),src:t.currentAudio.url}})],1):t._e(),t._v(" "),t.item.thread.location?n("nuxt-link",{staticClass:"location",attrs:{to:"/topic/position?longitude="+t.item.thread.longitude+"&latitude="+t.item.thread.latitude}},[n("span",{staticClass:"flex"},[n("svg-icon",{staticClass:"icon",attrs:{type:"location"}}),t._v("\n          "+t._s(t.item.thread.location)+"\n        ")],1)]):t._e()],1),t._v(" "),n("div",{staticClass:"post-footer"},[n("div",{staticClass:"time"},[t.item.thread.createdAt?[t._v("\n          "+t._s(t.item.thread.isDraft?t.$t("topic.saveAt"):t.$t("topic.publishAt"))+"\n          "+t._s(t._f("formatDate")(t.item.thread.createdAt))+"\n        ")]:t._e()],2),t._v(" "),t.canDetail?t._e():n("div",{staticClass:"handle-btn"},[t.showLike?n("div",{staticClass:"btn like",class:{liked:t.isLiked},on:{click:t.handleLike}},[n("svg-icon",{staticClass:"icon",attrs:{type:"like"},on:{click:t.handleLike}}),t._v("\n          "+t._s(t.isLiked?t.$t("topic.liked"):t.$t("topic.like"))+"\n          "+t._s(t.likeCount>0?t.likeCount:"")+"\n        ")],1):t._e(),t._v(" "),t.showComment?n("div",{staticClass:"btn comment",on:{click:t.toDetail}},[n("svg-icon",{staticClass:"icon",attrs:{type:"post-comment"}}),t._v("\n          "+t._s(t.$t("topic.comment"))+"\n          "+t._s(t.item.thread.postCount>0?t.item.thread.postCount:"")+"\n        ")],1):t._e(),t._v(" "),t.item.thread&&t.item.thread.pid&&t.showShare?n("share-popover",{attrs:{"threads-id":t.item.thread.pid}},[n("div",{staticClass:"btn share"},[n("svg-icon",{staticClass:"icon",attrs:{type:"link"}}),t._v("\n            "+t._s(t.$t("topic.share"))+"\n          ")],1)]):t._e(),t._v(" "),t._t("bottom-right"),t._v(" "),t._t("btn-edit"),t._v(" "),t._t("btn-delete")],2)]),t._v(" "),t.showVideoPop?n("dplayer-pop",{attrs:{"cover-url":t.item.thread.extension.video.coverUrl,url:t.item.thread.extension.video.mediaUrl},on:{remove:function(e){t.showVideoPop=!1}}}):t._e()],1)])}),[],!1,null,"42d9a827",null);e.default=component.exports;installComponents(component,{Avatar:r(344).default,SvgIcon:r(78).default,ProductItems:r(943).default,SharePopover:r(887).default,DplayerPop:r(876).default})},1033:function(t,e,r){"use strict";r.r(e);r(14),r(45);var n=r(873),o={name:"RecommendContent",mixins:[r.n(n).a],props:{list:{type:Array,default:function(){return[]}}},data:function(){return{contentList:[],loading:!1}},watch:{list:{handler:function(t){this.contentList=t},deep:!0}},mounted:function(){0===this.contentList.length&&this.getList()},methods:{getList:function(){var t=this;this.contentList=[],this.loading=!0,this.$store.dispatch("jv/get",["threads/recommend",{}]).then((function(e){var data=e.slice(0,5);t.contentList=data}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},refresh:function(){this.getList()}}},c=(r(981),r(12)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"recommend-content-container"},[r("div",{staticClass:"recommend-content-title"},[t._v(t._s(t.$t("home.recommentContent")))]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"recommend-content-list"},[t._l(t.contentList,(function(t,e){return r("content-item",{key:e,attrs:{item:t}})})),t._v(" "),0===t.contentList.length?r("div",{staticClass:"no-more"},[t._v(t._s(t.$t("discuzq.list.noData")))]):t._e()],2),t._v(" "),r("div",{staticClass:"refresh",on:{click:t.refresh}},[r("svg-icon",{staticClass:"icon",attrs:{type:"refresh"}}),t._v("\n    "+t._s(t.$t("home.refresh"))+"\n  ")],1)])}),[],!1,null,"5df467df",null);e.default=component.exports;installComponents(component,{ContentItem:r(1034).default,SvgIcon:r(78).default})},1034:function(t,e,r){"use strict";r.r(e);r(66),r(45);var n={name:"ContentItem",props:{item:{type:Object,default:function(){}}},data:function(){return{}},methods:{toContent:function(){this.$router.push("/thread/".concat(this.item._jv.id))},handleContent:function(content){var t=content.replace(/:[a-z]+:/g,"").replace(/\s{3,}/g," ");return 0===this.item.type?t=t.slice(0,18):1===this.item.type?t=t.slice(0,20):5===this.item.type&&(t=t.slice(0,10)),t.length<9?t:"".concat(t,"...")}}},o=(r(982),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-item-container",on:{click:t.toContent}},[n("div",{staticClass:"content-item-tips"},[0!==t.item.type&&1!==t.item.type||!t.item.isRedPacket?t._e():n("img",{staticClass:"item-img",attrs:{src:r(901)}}),t._v(" "),5===t.item.type&&t.item.questionTypeAndMoney&&0===t.item.questionTypeAndMoney.type?n("img",{staticClass:"item-img",attrs:{src:r(902)}}):5===t.item.type?n("img",{staticClass:"item-img",attrs:{src:r(903)}}):t._e(),t._v(" "),5===t.item.type&&t.item.questionTypeAndMoney&&0===t.item.questionTypeAndMoney.type?n("span",{staticClass:"item-tip"},[t._v("【￥"+t._s(t.item.questionTypeAndMoney.money)+"】")]):t._e()]),t._v(" "),1===t.item.type?n("p",{staticClass:"content"},[t._v("\n    "+t._s(t.handleContent(t.item.title))+"\n  ")]):n("p",{staticClass:"content"},[t._v("\n    "+t._s(t.handleContent(t.item.postContent))+"\n  ")]),t._v(" "),n("span",{staticClass:"read-count"},[t._v("\n    "+t._s(t.item.viewCount)+"人已读\n  ")])])}),[],!1,null,"281af4ac",null);e.default=component.exports},1055:function(t,e,r){},1056:function(t,e,r){},1057:function(t,e,r){},1063:function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=r=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},1064:function(t,e){function r(e,p){return t.exports=r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t},t.exports.default=t.exports,t.exports.__esModule=!0,r(e,p)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},1065:function(t,e,r){"use strict";var n,o,c=r(1066).toUnsigned,l=function(t){return new Date(1e3*t-20828448e5)},d=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},h=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},f=function(data,path){var i,t,e,r,n,o=[];if(!path.length)return null;for(i=0;i<data.byteLength;)t=c(data[i]<<24|data[i+1]<<16|data[i+2]<<8|data[i+3]),e=h(data.subarray(i+4,i+8)),r=t>1?i+t:data.byteLength,e===path[0]&&(1===path.length?o.push(data.subarray(i+8,r)):(n=f(data.subarray(i+8,r),path.slice(1))).length&&(o=o.concat(n))),i=r;return o},m=function(t){var i,e,r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=[];for(i=0;i+4<t.length;i+=e)if(e=r.getUint32(i),i+=4,e<=0)n.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[i]){case 1:n.push("slice_layer_without_partitioning_rbsp");break;case 5:n.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:n.push("sei_rbsp");break;case 7:n.push("seq_parameter_set_rbsp");break;case 8:n.push("pic_parameter_set_rbsp");break;case 9:n.push("access_unit_delimiter_rbsp");break;default:n.push("UNKNOWN NAL - "+t[i]&31)}return n},v={avc1:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{dataReferenceIndex:view.getUint16(6),width:view.getUint16(24),height:view.getUint16(26),horizresolution:view.getUint16(28)+view.getUint16(30)/16,vertresolution:view.getUint16(32)+view.getUint16(34)/16,frameCount:view.getUint16(40),depth:view.getUint16(74),config:n(data.subarray(78,data.byteLength))}},avcC:function(data){var t,e,r,i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),n={configurationVersion:data[0],avcProfileIndication:data[1],profileCompatibility:data[2],avcLevelIndication:data[3],lengthSizeMinusOne:3&data[4],sps:[],pps:[]},o=31&data[5];for(r=6,i=0;i<o;i++)e=view.getUint16(r),r+=2,n.sps.push(new Uint8Array(data.subarray(r,r+e))),r+=e;for(t=data[r],r++,i=0;i<t;i++)e=view.getUint16(r),r+=2,n.pps.push(new Uint8Array(data.subarray(r,r+e))),r+=e;return n},btrt:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{bufferSizeDB:view.getUint32(0),maxBitrate:view.getUint32(4),avgBitrate:view.getUint32(8)}},esds:function(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),esId:data[6]<<8|data[7],streamPriority:31&data[8],decoderConfig:{objectProfileIndication:data[11],streamType:data[12]>>>2&63,bufferSize:data[13]<<16|data[14]<<8|data[15],maxBitrate:data[16]<<24|data[17]<<16|data[18]<<8|data[19],avgBitrate:data[20]<<24|data[21]<<16|data[22]<<8|data[23],decoderConfigDescriptor:{tag:data[24],length:data[25],audioObjectType:data[26]>>>3&31,samplingFrequencyIndex:(7&data[26])<<1|data[27]>>>7&1,channelConfiguration:data[27]>>>3&15}}}},ftyp:function(data){for(var view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={majorBrand:h(data.subarray(0,4)),minorVersion:view.getUint32(4),compatibleBrands:[]},i=8;i<data.byteLength;)t.compatibleBrands.push(h(data.subarray(i,i+4))),i+=4;return t},dinf:function(data){return{boxes:n(data)}},dref:function(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),dataReferences:n(data.subarray(8))}},hdlr:function(data){var t={version:new DataView(data.buffer,data.byteOffset,data.byteLength).getUint8(0),flags:new Uint8Array(data.subarray(1,4)),handlerType:h(data.subarray(8,12)),name:""},i=8;for(i=24;i<data.byteLength;i++){if(0===data[i]){i++;break}t.name+=String.fromCharCode(data[i])}return t.name=decodeURIComponent(escape(t.name)),t},mdat:function(data){return{byteLength:data.byteLength,nals:m(data)}},mdhd:function(data){var t,view=new DataView(data.buffer,data.byteOffset,data.byteLength),i=4,e={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4)),language:""};return 1===e.version?(i+=4,e.creationTime=l(view.getUint32(i)),i+=8,e.modificationTime=l(view.getUint32(i)),i+=4,e.timescale=view.getUint32(i),i+=8,e.duration=view.getUint32(i)):(e.creationTime=l(view.getUint32(i)),i+=4,e.modificationTime=l(view.getUint32(i)),i+=4,e.timescale=view.getUint32(i),i+=4,e.duration=view.getUint32(i)),i+=4,t=view.getUint16(i),e.language+=String.fromCharCode(96+(t>>10)),e.language+=String.fromCharCode(96+((992&t)>>5)),e.language+=String.fromCharCode(96+(31&t)),e},mdia:function(data){return{boxes:n(data)}},mfhd:function(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),sequenceNumber:data[4]<<24|data[5]<<16|data[6]<<8|data[7]}},minf:function(data){return{boxes:n(data)}},mp4a:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={dataReferenceIndex:view.getUint16(6),channelcount:view.getUint16(16),samplesize:view.getUint16(18),samplerate:view.getUint16(24)+view.getUint16(26)/65536};return data.byteLength>28&&(t.streamDescriptor=n(data.subarray(28))[0]),t},moof:function(data){return{boxes:n(data)}},moov:function(data){return{boxes:n(data)}},mvex:function(data){return{boxes:n(data)}},mvhd:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),i=4,t={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4))};return 1===t.version?(i+=4,t.creationTime=l(view.getUint32(i)),i+=8,t.modificationTime=l(view.getUint32(i)),i+=4,t.timescale=view.getUint32(i),i+=8,t.duration=view.getUint32(i)):(t.creationTime=l(view.getUint32(i)),i+=4,t.modificationTime=l(view.getUint32(i)),i+=4,t.timescale=view.getUint32(i),i+=4,t.duration=view.getUint32(i)),i+=4,t.rate=view.getUint16(i)+view.getUint16(i+2)/16,i+=4,t.volume=view.getUint8(i)+view.getUint8(i+1)/8,i+=2,i+=2,i+=8,t.matrix=new Uint32Array(data.subarray(i,i+36)),i+=36,i+=24,t.nextTrackId=view.getUint32(i),t},pdin:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4)),rate:view.getUint32(4),initialDelay:view.getUint32(8)}},sdtp:function(data){var i,t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),samples:[]};for(i=4;i<data.byteLength;i++)t.samples.push({dependsOn:(48&data[i])>>4,isDependedOn:(12&data[i])>>2,hasRedundancy:3&data[i]});return t},sidx:function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),references:[],referenceId:view.getUint32(4),timescale:view.getUint32(8),earliestPresentationTime:view.getUint32(12),firstOffset:view.getUint32(16)},e=view.getUint16(22);for(i=24;e;i+=12,e--)t.references.push({referenceType:(128&data[i])>>>7,referencedSize:2147483647&view.getUint32(i),subsegmentDuration:view.getUint32(i+4),startsWithSap:!!(128&data[i+8]),sapType:(112&data[i+8])>>>4,sapDeltaTime:268435455&view.getUint32(i+8)});return t},smhd:function(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),balance:data[4]+data[5]/256}},stbl:function(data){return{boxes:n(data)}},stco:function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),chunkOffsets:[]},e=view.getUint32(4);for(i=8;e;i+=4,e--)t.chunkOffsets.push(view.getUint32(i));return t},stsc:function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t=view.getUint32(4),e={version:data[0],flags:new Uint8Array(data.subarray(1,4)),sampleToChunks:[]};for(i=8;t;i+=12,t--)e.sampleToChunks.push({firstChunk:view.getUint32(i),samplesPerChunk:view.getUint32(i+4),sampleDescriptionIndex:view.getUint32(i+8)});return e},stsd:function(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),sampleDescriptions:n(data.subarray(8))}},stsz:function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),sampleSize:view.getUint32(4),entries:[]};for(i=12;i<data.byteLength;i+=4)t.entries.push(view.getUint32(i));return t},stts:function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),timeToSamples:[]},e=view.getUint32(4);for(i=8;e;i+=8,e--)t.timeToSamples.push({sampleCount:view.getUint32(i),sampleDelta:view.getUint32(i+4)});return t},styp:function(data){return v.ftyp(data)},tfdt:function(data){var t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),baseMediaDecodeTime:c(data[4]<<24|data[5]<<16|data[6]<<8|data[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=c(data[8]<<24|data[9]<<16|data[10]<<8|data[11])),t},tfhd:function(data){var i,view=new DataView(data.buffer,data.byteOffset,data.byteLength),t={version:data[0],flags:new Uint8Array(data.subarray(1,4)),trackId:view.getUint32(4)},e=1&t.flags[2],r=2&t.flags[2],n=8&t.flags[2],o=16&t.flags[2],c=32&t.flags[2],l=65536&t.flags[0],d=131072&t.flags[0];return i=8,e&&(i+=4,t.baseDataOffset=view.getUint32(12),i+=4),r&&(t.sampleDescriptionIndex=view.getUint32(i),i+=4),n&&(t.defaultSampleDuration=view.getUint32(i),i+=4),o&&(t.defaultSampleSize=view.getUint32(i),i+=4),c&&(t.defaultSampleFlags=view.getUint32(i)),l&&(t.durationIsEmpty=!0),!e&&d&&(t.baseDataOffsetIsMoof=!0),t},tkhd:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength),i=4,t={version:view.getUint8(0),flags:new Uint8Array(data.subarray(1,4))};return 1===t.version?(i+=4,t.creationTime=l(view.getUint32(i)),i+=8,t.modificationTime=l(view.getUint32(i)),i+=4,t.trackId=view.getUint32(i),i+=4,i+=8,t.duration=view.getUint32(i)):(t.creationTime=l(view.getUint32(i)),i+=4,t.modificationTime=l(view.getUint32(i)),i+=4,t.trackId=view.getUint32(i),i+=4,i+=4,t.duration=view.getUint32(i)),i+=4,i+=8,t.layer=view.getUint16(i),i+=2,t.alternateGroup=view.getUint16(i),i+=2,t.volume=view.getUint8(i)+view.getUint8(i+1)/8,i+=2,i+=2,t.matrix=new Uint32Array(data.subarray(i,i+36)),i+=36,t.width=view.getUint16(i)+view.getUint16(i+2)/16,i+=4,t.height=view.getUint16(i)+view.getUint16(i+2)/16,t},traf:function(data){return{boxes:n(data)}},trak:function(data){return{boxes:n(data)}},trex:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),trackId:view.getUint32(4),defaultSampleDescriptionIndex:view.getUint32(8),defaultSampleDuration:view.getUint32(12),defaultSampleSize:view.getUint32(16),sampleDependsOn:3&data[20],sampleIsDependedOn:(192&data[21])>>6,sampleHasRedundancy:(48&data[21])>>4,samplePaddingValue:(14&data[21])>>1,sampleIsDifferenceSample:!!(1&data[21]),sampleDegradationPriority:view.getUint16(22)}},trun:function(data){var t,e={version:data[0],flags:new Uint8Array(data.subarray(1,4)),samples:[]},view=new DataView(data.buffer,data.byteOffset,data.byteLength),r=1&e.flags[2],n=4&e.flags[2],o=1&e.flags[1],c=2&e.flags[1],l=4&e.flags[1],h=8&e.flags[1],f=view.getUint32(4),m=8;for(r&&(e.dataOffset=view.getInt32(m),m+=4),n&&f&&(t={flags:d(data.subarray(m,m+4))},m+=4,o&&(t.duration=view.getUint32(m),m+=4),c&&(t.size=view.getUint32(m),m+=4),h&&(t.compositionTimeOffset=view.getUint32(m),m+=4),e.samples.push(t),f--);f--;)t={},o&&(t.duration=view.getUint32(m),m+=4),c&&(t.size=view.getUint32(m),m+=4),l&&(t.flags=d(data.subarray(m,m+4)),m+=4),h&&(t.compositionTimeOffset=view.getUint32(m),m+=4),e.samples.push(t);return e},"url ":function(data){return{version:data[0],flags:new Uint8Array(data.subarray(1,4))}},vmhd:function(data){var view=new DataView(data.buffer,data.byteOffset,data.byteLength);return{version:data[0],flags:new Uint8Array(data.subarray(1,4)),graphicsmode:view.getUint16(4),opcolor:new Uint16Array([view.getUint16(6),view.getUint16(8),view.getUint16(10)])}}};n=function(data){for(var view,t,e,r,n,i=0,o=[],c=new ArrayBuffer(data.length),l=new Uint8Array(c),d=0;d<data.length;++d)l[d]=data[d];for(view=new DataView(c);i<data.byteLength;)t=view.getUint32(i),e=h(data.subarray(i+4,i+8)),r=t>1?i+t:data.byteLength,(n=(v[e]||function(data){return{data:data}})(data.subarray(i+8,r))).size=t,n.type=e,o.push(n),i=r;return o},o=function(t,e){var r;return e=e||0,r=new Array(2*e+1).join(" "),t.map((function(t,n){return r+t.type+"\n"+Object.keys(t).filter((function(t){return"type"!==t&&"boxes"!==t})).map((function(e){var n=r+"  "+e+": ",o=t[e];if(o instanceof Uint8Array||o instanceof Uint32Array){var c=Array.prototype.slice.call(new Uint8Array(o.buffer,o.byteOffset,o.byteLength)).map((function(t){return" "+("00"+t.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return c?1===c.length?n+"<"+c.join("").slice(1)+">":n+"<\n"+c.map((function(line){return r+"  "+line})).join("\n")+"\n"+r+"  >":n+"<>"}return n+JSON.stringify(o,null,2).split("\n").map((function(line,t){return 0===t?line:r+"  "+line})).join("\n")})).join("\n")+(t.boxes?"\n"+o(t.boxes,e+1):"")})).join("\n")},t.exports={inspect:n,textify:o,parseType:h,findBox:f,parseTraf:v.traf,parseTfdt:v.tfdt,parseHdlr:v.hdlr,parseTfhd:v.tfhd,parseTrun:v.trun,parseSidx:v.sidx}},1066:function(t,e){t.exports={toUnsigned:function(t){return t>>>0},toHexString:function(t){return("00"+t.toString(16)).slice(-2)}}},1094:function(t,e,r){"use strict";r(1055)},1095:function(t,e,r){"use strict";r(1056)},1096:function(t,e,r){"use strict";r(1057)},1097:function(t,e,r){(function(e){var n,o=void 0!==e?e:"undefined"!=typeof window?window:{},c=r(1121);"undefined"!=typeof document?n=document:(n=o["__GLOBAL_DOCUMENT_CACHE@4"])||(n=o["__GLOBAL_DOCUMENT_CACHE@4"]=c),t.exports=n}).call(this,r(25))},1098:function(t,e){function r(){return t.exports=r=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t},t.exports.default=t.exports,t.exports.__esModule=!0,r.apply(this,arguments)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},1099:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},1100:function(t,e,r){var n,o,c,l,d;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#[^]*)?$/,o=/^([^\/?#]*)([^]*)$/,c=/(?:\/|^)\.(?=\/)/g,l=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,d={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var n=d.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=d.normalizePath(n.path),d.buildURLFromParts(n)}var c=d.parseURL(e);if(!c)throw new Error("Error trying to parse relative URL.");if(c.scheme)return r.alwaysNormalize?(c.path=d.normalizePath(c.path),d.buildURLFromParts(c)):e;var l=d.parseURL(t);if(!l)throw new Error("Error trying to parse base URL.");if(!l.netLoc&&l.path&&"/"!==l.path[0]){var h=o.exec(l.path);l.netLoc=h[1],l.path=h[2]}l.netLoc&&!l.path&&(l.path="/");var f={scheme:l.scheme,netLoc:c.netLoc,path:null,params:c.params,query:c.query,fragment:c.fragment};if(!c.netLoc&&(f.netLoc=l.netLoc,"/"!==c.path[0]))if(c.path){var m=l.path,v=m.substring(0,m.lastIndexOf("/")+1)+c.path;f.path=d.normalizePath(v)}else f.path=l.path,c.params||(f.params=l.params,c.query||(f.query=l.query));return null===f.path&&(f.path=r.alwaysNormalize?d.normalizePath(c.path):c.path),d.buildURLFromParts(f)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(path){for(path=path.split("").reverse().join("").replace(c,"");path.length!==(path=path.replace(l,"")).length;);return path.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=d},1101:function(t,e,r){"use strict";var n,o,c,l,d,h=r(1066).toUnsigned,f=r(1066).toHexString,m=r(1065);n=function(t){return m.findBox(t,["moov","trak"]).reduce((function(t,e){var r,n,o,c,l;return(r=m.findBox(e,["tkhd"])[0])?(n=r[0],c=h(r[o=0===n?12:20]<<24|r[o+1]<<16|r[o+2]<<8|r[o+3]),(l=m.findBox(e,["mdia","mdhd"])[0])?(o=0===(n=l[0])?12:20,t[c]=h(l[o]<<24|l[o+1]<<16|l[o+2]<<8|l[o+3]),t):null):null}),{})},o=function(t,e){var r,n,o;return r=m.findBox(e,["moof","traf"]),n=[].concat.apply([],r.map((function(e){return m.findBox(e,["tfhd"]).map((function(r){var n,o;return n=h(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),o=t[n]||9e4,(m.findBox(e,["tfdt"]).map((function(t){var e,r;return e=t[0],r=h(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(r*=Math.pow(2,32),r+=h(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),r}))[0]||1/0)/o}))}))),o=Math.min.apply(null,n),isFinite(o)?o:0},c=function(t,e){var r,n=m.findBox(e,["moof","traf"]),o=0,c=0;if(n&&n.length)for(var l=m.parseTraf(n[0]),i=0;i<l.boxes.length;i++)"tfhd"===l.boxes[i].type?r=l.boxes[i].trackId:"tfdt"===l.boxes[i].type?o=l.boxes[i].baseMediaDecodeTime:"trun"===l.boxes[i].type&&l.boxes[i].samples.length&&(c=l.boxes[i].samples[0].compositionTimeOffset||0);return(o+c)/(t[r]||9e4)},l=function(t){var e=m.findBox(t,["moov","trak"]),r=[];return e.forEach((function(t){var e=m.findBox(t,["mdia","hdlr"]),n=m.findBox(t,["tkhd"]);e.forEach((function(t,e){var view,o,c=m.parseType(t.subarray(8,12)),l=n[e];"vide"===c&&(o=0===(view=new DataView(l.buffer,l.byteOffset,l.byteLength)).getUint8(0)?view.getUint32(12):view.getUint32(20),r.push(o))}))})),r},d=function(t){var e=m.findBox(t,["moov","trak"]),r=[];return e.forEach((function(t){var view,e,track={},n=m.findBox(t,["tkhd"])[0];n&&(e=(view=new DataView(n.buffer,n.byteOffset,n.byteLength)).getUint8(0),track.id=0===e?view.getUint32(12):view.getUint32(20));var o=m.findBox(t,["mdia","hdlr"])[0];if(o){var c=m.parseType(o.subarray(8,12));track.type="vide"===c?"video":"soun"===c?"audio":c}var l=m.findBox(t,["mdia","minf","stbl","stsd"])[0];if(l){var d=l.subarray(8);track.codec=m.parseType(d.subarray(4,8));var v,y=m.findBox(d,[track.codec])[0];y&&(/^[a-z]vc[1-9]$/i.test(track.codec)?(v=y.subarray(78),"avcC"===m.parseType(v.subarray(4,8))&&v.length>11?(track.codec+=".",track.codec+=f(v[9]),track.codec+=f(v[10]),track.codec+=f(v[11])):track.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(track.codec)&&(v=y.subarray(28),"esds"===m.parseType(v.subarray(4,8))&&v.length>20&&0!==v[19]?(track.codec+="."+f(v[19]),track.codec+="."+f(v[20]>>>2&63).replace(/^0/,"")):track.codec="mp4a.40.2"))}var _=m.findBox(t,["mdia","mdhd"])[0];if(_&&n){var w=0===e?12:20;track.timescale=h(_[w]<<24|_[w+1]<<16|_[w+2]<<8|_[w+3])}r.push(track)})),r},t.exports={findBox:m.findBox,parseType:m.parseType,timescale:n,startTime:o,compositionStartTime:c,videoTrackIds:l,tracks:d}},1102:function(t,e,r){"use strict";t.exports={parseSei:function(t){for(var i=0,e={payloadType:-1,payloadSize:0},r=0,n=0;i<t.byteLength&&128!==t[i];){for(;255===t[i];)r+=255,i++;for(r+=t[i++];255===t[i];)n+=255,i++;if(n+=t[i++],!e.payload&&4===r){e.payloadType=r,e.payloadSize=n,e.payload=t.subarray(i,i+n);break}i+=n,r=0,n=0}return e},parseUserData:function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},parseCaptionPackets:function(t,e){var i,r,n,data,o=[];if(!(64&e[0]))return o;for(r=31&e[0],i=0;i<r;i++)data={type:3&e[(n=3*i)+2],pts:t},4&e[n+2]&&(data.ccData=e[n+3]<<8|e[n+4],o.push(data));return o},discardEmulationPreventionBytes:function(data){for(var t,e,r=data.byteLength,n=[],i=1;i<r-2;)0===data[i]&&0===data[i+1]&&3===data[i+2]?(n.push(i+2),i+=2):i++;if(0===n.length)return data;t=r-n.length,e=new Uint8Array(t);var o=0;for(i=0;i<t;o++,i++)o===n[0]&&(o++,n.shift()),e[i]=data[o];return e},USER_DATA_REGISTERED_ITU_T_T35:4}},1103:function(t,e,r){"use strict";var n=function(){this.init=function(){var t={};this.on=function(e,r){t[e]||(t[e]=[]),t[e]=t[e].concat(r)},this.off=function(e,r){var n;return!!t[e]&&(n=t[e].indexOf(r),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var r,i,n,o;if(r=t[e])if(2===arguments.length)for(n=r.length,i=0;i<n;++i)r[i].call(this,arguments[1]);else{for(o=[],i=arguments.length,i=1;i<arguments.length;++i)o.push(arguments[i]);for(n=r.length,i=0;i<n;++i)r[i].apply(this,o)}},this.dispose=function(){t={}}}};n.prototype.pipe=function(t){return this.on("data",(function(data){t.push(data)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},n.prototype.push=function(data){this.trigger("data",data)},n.prototype.flush=function(t){this.trigger("done",t)},n.prototype.partialFlush=function(t){this.trigger("partialdone",t)},n.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},n.prototype.reset=function(t){this.trigger("reset",t)},t.exports=n},1104:function(t,e,r){"use strict";t.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},1105:function(t,e,r){},1117:function(t,e,r){"use strict";r.r(e);var n=r(79),o=(r(32),r(873)),c=r.n(o),l=r(210),d={name:"Category",mixins:[c.a],props:{postLoading:{type:Boolean,default:!1},list:{type:Array,default:function(){return[]}}},data:function(){return{categoryList:[],selectId:0,selectId_parent:0}},watch:{list:{handler:function(t){0===this.categoryList.length&&this.handleData(t)},deep:!0}},mounted:function(){0===this.categoryList.length&&this.getCategoryList(),this.$route.params.id&&(this.selectId=+this.$route.params.id)},methods:{getCategoryList:function(){var t=this;l.a.readCategories({params:{type:7}}).then((function(e){var r=Object(n.a)(e.Data)||[];t.handleData(r)}),(function(e){t.handleError(e)}))},handleData:function(data){var t=this,e=0;this.categoryList=[],data.forEach((function(r){var n=!1,o=[];e+=r.threadCount,r.children&&r.children.length>0&&(n=!0,r.children.forEach((function(t){o.push({id:parseInt(t.pid),search_ids:t.searchIds,name:t.name,thread_count:t.threadCount})}))),t.categoryList.push({id:parseInt(r.pid),search_ids:r.searchIds,name:r.name,thread_count:r.threadCount,hasChild:n,children:o})})),this.categoryList.unshift({id:0,search_ids:"0",name:this.$t("topic.whole"),thread_count:e}),this.categoryList.forEach((function(e){e.id===t.selectId?t.selectId_parent=e.id:e.children&&e.children.forEach((function(r){r.id===t.selectId&&(t.selectId_parent=e.id)}))}))},onChange:function(t,e,r){this.postLoading||(this.selectId=t,this.selectId_parent=e,this.$emit("onChange",{id:t,search_ids:r}))}}},h=(r(1094),r(12)),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.categoryList&&t.categoryList.length>0?r("div",{staticClass:"category-container"},t._l(t.categoryList,(function(e,n){return r("div",{key:n},[r("div",{staticClass:"category-item",class:{active:t.selectId===e.id||t.selectId_parent===e.id,loading:t.postLoading},on:{click:function(r){return t.onChange(e.id,e.id,e.search_ids)}}},[t.selectId_parent===e.id?r("i",{staticClass:"el-icon-arrow-left arrow-icon"}):t._e(),t._v(" "),r("div",{staticClass:"title"},[t._v(t._s(e.name))]),t._v(" "),r("div",{staticClass:"count"},[t._v(t._s(e.thread_count))])]),t._v(" "),e.hasChild&&e.children.length>0?r("div",t._l(e.children,(function(n,o){return r("div",{directives:[{name:"show",rawName:"v-show",value:t.selectId_parent===e.id,expression:"selectId_parent === item.id"}],key:o,staticClass:"category-item category-item-sub",class:{active:t.selectId===n.id,loading:t.postLoading},on:{click:function(r){return t.onChange(n.id,e.id,n.search_ids)}}},[r("div",{staticClass:"title"},[t._v(t._s(n.name))]),t._v(" "),r("div",{staticClass:"count"},[t._v(t._s(n.thread_count))])])})),0):t._e()])})),0):t._e()}),[],!1,null,"1afd833f",null);e.default=component.exports},1118:function(t,e,r){"use strict";r.r(e);var n={name:"Advertising",data:function(){return{siteName:""}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{forums:{handler:function(t){t&&t.set_site&&(this.siteName=t.set_site.site_name?t.set_site.site_name:"Discuz! Q")},deep:!0}},mounted:function(){this.siteName=this.forums&&this.forums.set_site&&this.forums.set_site.site_name?this.forums.set_site.site_name:"Discuz! Q"},methods:{}},o=(r(1095),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"adv-container"},[r("div",{staticClass:"qrcode"},[r("div",{staticClass:"kuq-baifen-50 kuq-juzhong"},[r("img",{attrs:{src:t.forums&&t.forums.set_site&&t.forums.set_site.site_gongzhonghao_logo}}),t._v(" "),r("br"),t._v("\n        微信公众号\n      ")]),t._v(" "),r("div",{staticClass:"kuq-baifen-50 kuq-juzhong"},[r("img",{attrs:{src:t.forums&&t.forums.set_site&&t.forums.set_site.site_xiaochengxu_logo}}),t._v(" "),r("br"),t._v("\n        微信小程序\n      ")]),t._v(" "),r("div",{staticClass:"kuq-clear"})])])])}),[],!1,null,"6ee3ee39",null);e.default=component.exports},1119:function(t,e,r){"use strict";r.r(e);var n={name:"Advertising",data:function(){return{siteName:""}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{forums:{handler:function(t){t&&t.set_site&&(this.siteName=t.set_site.site_name?t.set_site.site_name:"Discuz! Q")},deep:!0}},mounted:function(){this.siteName=this.forums&&this.forums.set_site&&this.forums.set_site.site_name?this.forums.set_site.site_name:"Discuz! Q"},methods:{}},o=(r(1096),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"adv-container "},[r("div",{staticClass:"qrcode"},[r("div",{staticClass:"kuq-baifen-50 kuq-juzhong"},[r("img",{attrs:{src:t.forums&&t.forums.set_site&&t.forums.set_site.site_kefuyi_logo}}),t._v(" "),r("br"),t._v("\n        微信联系\n      ")]),t._v(" "),r("div",{staticClass:"kuq-baifen-50 kuq-juzhong"},[r("img",{attrs:{src:t.forums&&t.forums.set_site&&t.forums.set_site.site_kefuer_logo}}),t._v(" "),r("br"),t._v("\n        微信联系\n      ")]),t._v(" "),r("div",{staticClass:"kuq-clear"})])])])}),[],!1,null,"7170370e",null);e.default=component.exports},1121:function(t,e){},1122:function(t,e,r){var n=r(1063).default,o=r(1099);t.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e},t.exports.default=t.exports,t.exports.__esModule=!0},1123:function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},1124:function(t,e,r){var n=r(1064);t.exports=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},1125:function(t,e){t.exports=function(t,e){var r,n=null;try{r=JSON.parse(t,e)}catch(t){n=t}return[n,r]}},1126:function(t,e){function r(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return c[t];var r,l=String(t);return(r=n[l.toLowerCase()])?r:(r=o[l.toLowerCase()])||(1===l.length?l.charCodeAt(0):void 0)}r.isEventKey=function(t,e){if(t&&"object"==typeof t){var r=t.which||t.keyCode||t.charCode;if(null==r)return!1;if("string"==typeof e){var c;if(c=n[e.toLowerCase()])return c===r;if(c=o[e.toLowerCase()])return c===r}else if("number"==typeof e)return e===r;return!1}};var n=(e=t.exports=r).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},o=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};for(i=97;i<123;i++)n[String.fromCharCode(i)]=i-32;for(var i=48;i<58;i++)n[i-48]=i;for(i=1;i<13;i++)n["f"+i]=i+111;for(i=0;i<10;i++)n["numpad "+i]=i+96;var c=e.names=e.title={};for(i in n)c[n[i]]=i;for(var l in o)n[l]=o[l]},1127:function(t,e,r){"use strict";var n=r(1128),o=r(1098),c=r(1129);function l(t,e,r){var n=t;return c(e)?(r=e,"string"==typeof t&&(n={uri:t})):n=o({},e,{uri:t}),n.callback=r,n}function d(t,e,r){return h(e=l(t,e,r))}function h(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,r=function(r,n,body){e||(e=!0,t.callback(r,n,body))};function n(){var body=void 0;if(body=f.response?f.response:f.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(f),T)try{body=JSON.parse(body)}catch(t){}return body}function o(t){return clearTimeout(m),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,r(t,C)}function c(){if(!h){var e;clearTimeout(m),e=t.useXDR&&void 0===f.status?200:1223===f.status?204:f.status;var o=C,c=null;return 0!==e?(o={body:n(),statusCode:e,method:y,headers:{},url:v,rawRequest:f},f.getAllResponseHeaders&&(o.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var r=t.indexOf(":"),n=t.slice(0,r).trim().toLowerCase(),o=t.slice(r+1).trim();void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]})),e):e}(f.getAllResponseHeaders()))):c=new Error("Internal XMLHttpRequest Error"),r(c,o,o.body)}}var l,h,f=t.xhr||null;f||(f=t.cors||t.useXDR?new d.XDomainRequest:new d.XMLHttpRequest);var m,v=f.url=t.uri||t.url,y=f.method=t.method||"GET",body=t.body||t.data,_=f.headers=t.headers||{},w=!!t.sync,T=!1,C={body:void 0,headers:{},statusCode:0,method:y,url:v,rawRequest:f};if("json"in t&&!1!==t.json&&(T=!0,_.accept||_.Accept||(_.Accept="application/json"),"GET"!==y&&"HEAD"!==y&&(_["content-type"]||_["Content-Type"]||(_["Content-Type"]="application/json"),body=JSON.stringify(!0===t.json?body:t.json))),f.onreadystatechange=function(){4===f.readyState&&setTimeout(c,0)},f.onload=c,f.onerror=o,f.onprogress=function(){},f.onabort=function(){h=!0},f.ontimeout=o,f.open(y,v,!w,t.username,t.password),w||(f.withCredentials=!!t.withCredentials),!w&&t.timeout>0&&(m=setTimeout((function(){if(!h){h=!0,f.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),f.setRequestHeader)for(l in _)_.hasOwnProperty(l)&&f.setRequestHeader(l,_[l]);else if(t.headers&&!function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(f.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(f),f.send(body||null),f}t.exports=d,t.exports.default=d,d.XMLHttpRequest=n.XMLHttpRequest||function(){},d.XDomainRequest="withCredentials"in new d.XMLHttpRequest?d.XMLHttpRequest:n.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],(function(t){d["delete"===t?"del":t]=function(e,r,n){return(r=l(e,r,n)).method=t.toUpperCase(),h(r)}}))},1128:function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(25))},1129:function(t,e){t.exports=function(t){if(!t)return!1;var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var r=Object.prototype.toString},1130:function(t,e,r){var n=r(965),o=t.exports={WebVTT:r(1131),VTTCue:r(1132),VTTRegion:r(1133)};n.vttjs=o,n.WebVTT=o.WebVTT;var c=o.VTTCue,l=o.VTTRegion,d=n.VTTCue,h=n.VTTRegion;o.shim=function(){n.VTTCue=c,n.VTTRegion=l},o.restore=function(){n.VTTCue=d,n.VTTRegion=h},n.VTTCue||o.shim()},1131:function(t,e,r){var n=r(1097),o=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function c(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function l(input){function t(t,e,s,r){return 3600*(0|t)+60*(0|e)+(0|s)+(0|r)/1e3}var e=input.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):e[1]>59?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function d(){this.values=o(null)}function h(input,t,e,r){var n=r?input.split(r):[input];for(var i in n)if("string"==typeof n[i]){var o=n[i].split(e);if(2===o.length)t(o[0],o[1])}}function f(input,t,e){var r=input;function n(){var t=l(input);if(null===t)throw new c(c.Errors.BadTimeStamp,"Malformed timestamp: "+r);return input=input.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){input=input.replace(/^\s+/,"")}if(o(),t.startTime=n(),o(),"--\x3e"!==input.substr(0,3))throw new c(c.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);input=input.substr(3),o(),t.endTime=n(),o(),function(input,t){var r=new d;h(input,(function(t,n){switch(t){case"region":for(var i=e.length-1;i>=0;i--)if(e[i].id===n){r.set(t,e[i].region);break}break;case"vertical":r.alt(t,n,["rl","lr"]);break;case"line":var o=n.split(","),c=o[0];r.integer(t,c),r.percent(t,c)&&r.set("snapToLines",!1),r.alt(t,c,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=n.split(","),r.percent(t,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","center","end"]);break;case"size":r.percent(t,n);break;case"align":r.alt(t,n,["start","center","end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");try{t.line=r.get("line","auto")}catch(t){}t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100);try{t.align=r.get("align","center")}catch(e){t.align=r.get("align","middle")}try{t.position=r.get("position","auto")}catch(e){t.position=r.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=r.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(input,t)}c.prototype=o(Error.prototype),c.prototype.constructor=c,c.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,r){return r?this.has(t)?this.values[t]:e[r]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,a){for(var r=0;r<a.length;++r)if(e===a[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var m=n.createElement&&n.createElement("textarea"),v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},y={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},_={v:"title",lang:"lang"},w={rt:"ruby"};function T(t,input){function e(){if(!input)return null;var t,e=input.match(/^([^<]*)(<[^>]*>?)?/);return t=e[1]?e[1]:e[2],input=input.substr(t.length),t}function r(t,element){return!w[element.localName]||w[element.localName]===t.localName}function n(e,r){var n=v[e];if(!n)return null;var element=t.document.createElement(n),o=_[e];return o&&r&&(element[o]=r.trim()),element}for(var o,s,c=t.document.createElement("div"),d=c,h=[];null!==(o=e());)if("<"!==o[0])d.appendChild(t.document.createTextNode((s=o,m.innerHTML=s,s=m.textContent,m.textContent="",s)));else{if("/"===o[1]){h.length&&h[h.length-1]===o.substr(2).replace(">","")&&(h.pop(),d=d.parentNode);continue}var f,T=l(o.substr(1,o.length-2));if(T){f=t.document.createProcessingInstruction("timestamp",T),d.appendChild(f);continue}var C=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!C)continue;if(!(f=n(C[1],C[3])))continue;if(!r(d,f))continue;if(C[2]){var A=C[2].split(".");A.forEach((function(t){var e=/^bg_/.test(t),r=e?t.slice(3):t;if(y.hasOwnProperty(r)){var n=e?"background-color":"color",o=y[r];f.style[n]=o}})),f.className=A.join(" ")}h.push(C[1]),d.appendChild(f),d=f}return c}var C=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function A(t){for(var i=0;i<C.length;i++){var e=C[i];if(t>=e[0]&&t<=e[1])return!0}return!1}function x(t){var e=[],text="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function n(t){if(!t||!t.length)return null;var e=t.pop(),text=e.textContent||e.innerText;if(text){var o=text.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):text}return"ruby"===e.tagName?n(t):e.childNodes?(r(t,e),n(t)):void 0}for(r(e,t);text=n(e);)for(var i=0;i<text.length;i++)if(A(text.charCodeAt(i)))return"rtl";return"ltr"}function E(){}function S(t,e,r){E.call(this),this.cue=e,this.cueDiv=T(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:x(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var o=0;switch(e.positionAlign){case"start":o=e.position;break;case"center":o=e.position-e.size/2;break;case"end":o=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(o,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(o,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function D(t){var e,r,n,o;if(t.div){r=t.div.offsetHeight,n=t.div.offsetWidth,o=t.div.offsetTop;var c=(c=t.div.childNodes)&&(c=c[0])&&c.getClientRects&&c.getClientRects();t=t.div.getBoundingClientRect(),e=c?Math.max(c[0]&&c[0].height||0,t.height/c.length):0}this.left=t.left,this.right=t.right,this.top=t.top||o,this.height=t.height||r,this.bottom=t.bottom||o+(t.height||r),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function k(t,e,r,n){var o=new D(e),c=e.cue,l=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var track=t.track,e=track.textTrackList,r=0,i=0;i<e.length&&e[i]!==track;i++)"showing"===e[i].mode&&r++;return-1*++r}(c),d=[];if(c.snapToLines){var h;switch(c.vertical){case"":d=["+y","-y"],h="height";break;case"rl":d=["+x","-x"],h="width";break;case"lr":d=["-x","+x"],h="width"}var f=o.lineHeight,m=f*Math.round(l),v=r[h]+f,y=d[0];Math.abs(m)>v&&(m=m<0?-1:1,m*=Math.ceil(v/f)*f),l<0&&(m+=""===c.vertical?r.height:r.width,d=d.reverse()),o.move(y,m)}else{var _=o.lineHeight/r.height*100;switch(c.lineAlign){case"center":l-=_/2;break;case"end":l-=_}switch(c.vertical){case"":e.applyStyles({top:e.formatStyle(l,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(l,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(l,"%")})}d=["+y","-x","+x","-y"],o=new D(e)}var w=function(b,t){for(var e,o=new D(b),c=1,i=0;i<t.length;i++){for(;b.overlapsOppositeAxis(r,t[i])||b.within(r)&&b.overlapsAny(n);)b.move(t[i]);if(b.within(r))return b;var p=b.intersectPercentage(r);c>p&&(e=new D(b),c=p),b=new D(o)}return e||o}(o,d);e.move(w.toCSSCompatValues(r))}function I(){}E.prototype.applyStyles=function(t,div){for(var e in div=div||this.div,t)t.hasOwnProperty(e)&&(div.style[e]=t[e])},E.prototype.formatStyle=function(t,e){return 0===t?0:t+e},S.prototype=o(E.prototype),S.prototype.constructor=S,D.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},D.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},D.prototype.overlapsAny=function(t){for(var i=0;i<t.length;i++)if(this.overlaps(t[i]))return!0;return!1},D.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},D.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},D.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},D.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},D.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,r=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||r}},I.StringDecoder=function(){return{decode:function(data){if(!data)return"";if("string"!=typeof data)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(data))}}},I.convertCueToDOMTree=function(t,e){return t&&e?T(t,e):null};I.processCues=function(t,e,r){if(!t||!e||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=t.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),function(t){for(var i=0;i<t.length;i++)if(t[i].hasBeenReset||!t[i].displayState)return!0;return!1}(e)){var o=[],c=D.getSimpleBoxPosition(n),l={font:Math.round(.05*c.height*100)/100+"px sans-serif"};!function(){for(var r,d,i=0;i<e.length;i++)d=e[i],r=new S(t,d,l),n.appendChild(r.div),k(0,r,c,o),d.displayState=r.div,o.push(D.getSimpleBoxPosition(r))}()}else for(var i=0;i<e.length;i++)n.appendChild(e[i].displayState)},I.Parser=function(t,e,r){r||(r=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=r||new TextDecoder("utf8"),this.regionList=[]},I.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof c))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(data){var t=this;function e(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var line=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),line}function r(input){input.match(/X-TIMESTAMP-MAP/)?h(input,(function(e,r){switch(e){case"X-TIMESTAMP-MAP":!function(input){var e=new d;h(input,(function(t,r){switch(t){case"MPEGT":e.integer(t+"S",r);break;case"LOCA":e.set(t+"L",l(r))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}(r)}}),/=/):h(input,(function(e,r){switch(e){case"Region":!function(input){var e=new d;if(h(input,(function(t,r){switch(t){case"id":e.set(t,r);break;case"width":e.percent(t,r);break;case"lines":e.integer(t,r);break;case"regionanchor":case"viewportanchor":var n=r.split(",");if(2!==n.length)break;var o=new d;if(o.percent("x",n[0]),o.percent("y",n[1]),!o.has("x")||!o.has("y"))break;e.set(t+"X",o.get("x")),e.set(t+"Y",o.get("y"));break;case"scroll":e.alt(t,r,["up"])}}),/=/,/\s/),e.has("id")){var r=new(t.vttjs.VTTRegion||t.window.VTTRegion);r.width=e.get("width",100),r.lines=e.get("lines",3),r.regionAnchorX=e.get("regionanchorX",0),r.regionAnchorY=e.get("regionanchorY",100),r.viewportAnchorX=e.get("viewportanchorX",0),r.viewportAnchorY=e.get("viewportanchorY",100),r.scroll=e.get("scroll",""),t.onregion&&t.onregion(r),t.regionList.push({id:e.get("id"),region:r})}}(r)}}),/:/)}data&&(t.buffer+=t.decoder.decode(data,{stream:!0}));try{var line;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n=(line=e()).match(/^WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new c(c.Errors.BadSignature);t.state="HEADER"}for(var o=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:line=e(),t.state){case"HEADER":/:/.test(line)?r(line):line||(t.state="ID");continue;case"NOTE":line||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){t.state="NOTE";break}if(!line)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(e){t.cue.align="middle"}if(t.state="CUE",-1===line.indexOf("--\x3e")){t.cue.id=line;continue}case"CUE":try{f(line,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var m=-1!==line.indexOf("--\x3e");if(!line||m&&(o=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=line.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":line||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new c(c.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.exports=I},1132:function(t,e){var r={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function o(t){return"string"==typeof t&&(!!n[t.toLowerCase()]&&t.toLowerCase())}function c(t,e,text){this.hasBeenReset=!1;var n="",c=!1,l=t,d=e,h=text,f=null,m="",v=!0,y="auto",_="start",w="auto",T="auto",C=100,A="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(t){n=""+t}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(t){c=!!t}},startTime:{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");l=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");d=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return h},set:function(t){h=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return f},set:function(t){f=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return m},set:function(t){var e=function(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");m=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return y},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return _},set:function(t){var e=o(t);e?(_=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");w=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return T},set:function(t){var e=o(t);e?(T=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return C},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");C=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return A},set:function(t){var e=o(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");A=e,this.hasBeenReset=!0}}}),this.displayState=void 0}c.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=c},1133:function(t,e){var r={"":!0,up:!0};function n(t){return"number"==typeof t&&t>=0&&t<=100}t.exports=function(){var t=100,e=3,o=0,c=100,l=0,d=100,h="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!n(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return c},set:function(t){if(!n(t))throw new Error("RegionAnchorX must be between 0 and 100.");c=t}},regionAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!n(t))throw new Error("RegionAnchorY must be between 0 and 100.");o=t}},viewportAnchorY:{enumerable:!0,get:function(){return d},set:function(t){if(!n(t))throw new Error("ViewportAnchorY must be between 0 and 100.");d=t}},viewportAnchorX:{enumerable:!0,get:function(){return l},set:function(t){if(!n(t))throw new Error("ViewportAnchorX must be between 0 and 100.");l=t}},scroll:{enumerable:!0,get:function(){return h},set:function(t){var e=function(t){return"string"==typeof t&&(!!r[t.toLowerCase()]&&t.toLowerCase())}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):h=e}}})}},1134:function(t,e,r){var n=r(1064),o=r(1135);function c(e,r,l){return o()?(t.exports=c=Reflect.construct,t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=c=function(t,e,r){var a=[null];a.push.apply(a,e);var o=new(Function.bind.apply(t,a));return r&&n(o,r.prototype),o},t.exports.default=t.exports,t.exports.__esModule=!0),c.apply(null,arguments)}t.exports=c,t.exports.default=t.exports,t.exports.__esModule=!0},1135:function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},1136:function(t,e,r){var n=r(1064);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},1137:function(t,e,r){"use strict";r.d(e,"a",(function(){return y}));var n=r(965),o=r.n(n);function c(){return(c=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var e in source)Object.prototype.hasOwnProperty.call(source,e)&&(t[e]=source[e])}return t}).apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var d=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t].splice(r,1),r>-1},e.trigger=function(t){var i,e,r,n=this.listeners[t];if(n)if(2===arguments.length)for(e=n.length,i=0;i<e;++i)n[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),e=n.length,i=0;i<e;++i)n[i].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(data){t.push(data)}))},t}(),h=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return l(e,t),e.prototype.push=function(data){var t;for(this.buffer+=data,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},e}(d),f=function(t){for(var e,r=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},i=r.length;i--;)""!==r[i]&&((e=/([^=]*)=(.*)/.exec(r[i]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},m=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}l(e,t);var r=e.prototype;return r.push=function(line){var t,e,r=this;0!==(line=line.trim()).length&&("#"===line[0]?this.tagMappers.reduce((function(t,e){var r=e(line);return r===line?t:t.concat([r])}),[line]).forEach((function(n){for(var i=0;i<r.customParsers.length;i++)if(r.customParsers[i].call(r,n))return;if(0===n.indexOf("#EXT"))if(n=n.replace("\r",""),t=/^#EXTM3U/.exec(n))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(n))return e={type:"tag",tagType:"inf"},t[1]&&(e.duration=parseFloat(t[1])),t[2]&&(e.title=t[2]),void r.trigger("data",e);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"targetduration"},t[1]&&(e.duration=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"totalduration"},t[1]&&(e.duration=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"version"},t[1]&&(e.version=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(n))return e={type:"tag",tagType:"media-sequence"},t[1]&&(e.number=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(n))return e={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(e.number=parseInt(t[1],10)),void r.trigger("data",e);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(n))return e={type:"tag",tagType:"playlist-type"},t[1]&&(e.playlistType=t[1]),void r.trigger("data",e);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(n))return e={type:"tag",tagType:"byterange"},t[1]&&(e.length=parseInt(t[1],10)),t[2]&&(e.offset=parseInt(t[2],10)),void r.trigger("data",e);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(n))return e={type:"tag",tagType:"allow-cache"},t[1]&&(e.allowed=!/NO/.test(t[1])),void r.trigger("data",e);if(t=/^#EXT-X-MAP:?(.*)$/.exec(n)){if(e={type:"tag",tagType:"map"},t[1]){var o=f(t[1]);if(o.URI&&(e.uri=o.URI),o.BYTERANGE){var c=o.BYTERANGE.split("@"),l=c[0],d=c[1];e.byterange={},l&&(e.byterange.length=parseInt(l,10)),d&&(e.byterange.offset=parseInt(d,10))}}r.trigger("data",e)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(n)){if(e={type:"tag",tagType:"stream-inf"},t[1]){if(e.attributes=f(t[1]),e.attributes.RESOLUTION){var h=e.attributes.RESOLUTION.split("x"),m={};h[0]&&(m.width=parseInt(h[0],10)),h[1]&&(m.height=parseInt(h[1],10)),e.attributes.RESOLUTION=m}e.attributes.BANDWIDTH&&(e.attributes.BANDWIDTH=parseInt(e.attributes.BANDWIDTH,10)),e.attributes["PROGRAM-ID"]&&(e.attributes["PROGRAM-ID"]=parseInt(e.attributes["PROGRAM-ID"],10))}r.trigger("data",e)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(n))return e={type:"tag",tagType:"media"},t[1]&&(e.attributes=f(t[1])),void r.trigger("data",e);if(t=/^#EXT-X-ENDLIST/.exec(n))r.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(n))r.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(n))return e={type:"tag",tagType:"program-date-time"},t[1]&&(e.dateTimeString=t[1],e.dateTimeObject=new Date(t[1])),void r.trigger("data",e);if(t=/^#EXT-X-KEY:?(.*)$/.exec(n))return e={type:"tag",tagType:"key"},t[1]&&(e.attributes=f(t[1]),e.attributes.IV&&("0x"===e.attributes.IV.substring(0,2).toLowerCase()&&(e.attributes.IV=e.attributes.IV.substring(2)),e.attributes.IV=e.attributes.IV.match(/.{8}/g),e.attributes.IV[0]=parseInt(e.attributes.IV[0],16),e.attributes.IV[1]=parseInt(e.attributes.IV[1],16),e.attributes.IV[2]=parseInt(e.attributes.IV[2],16),e.attributes.IV[3]=parseInt(e.attributes.IV[3],16),e.attributes.IV=new Uint32Array(e.attributes.IV))),void r.trigger("data",e);if(t=/^#EXT-X-START:?(.*)$/.exec(n))return e={type:"tag",tagType:"start"},t[1]&&(e.attributes=f(t[1]),e.attributes["TIME-OFFSET"]=parseFloat(e.attributes["TIME-OFFSET"]),e.attributes.PRECISE=/YES/.test(e.attributes.PRECISE)),void r.trigger("data",e);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(n))return e={type:"tag",tagType:"cue-out-cont"},t[1]?e.data=t[1]:e.data="",void r.trigger("data",e);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(n))return e={type:"tag",tagType:"cue-out"},t[1]?e.data=t[1]:e.data="",void r.trigger("data",e);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(n))return e={type:"tag",tagType:"cue-in"},t[1]?e.data=t[1]:e.data="",void r.trigger("data",e);r.trigger("data",{type:"tag",data:n.slice(4)})}}}else r.trigger("data",{type:"comment",text:n.slice(1)})})):this.trigger("data",{type:"uri",uri:line}))},r.addParser=function(t){var e=this,r=t.expression,n=t.customType,o=t.dataParser,c=t.segment;"function"!=typeof o&&(o=function(line){return line}),this.customParsers.push((function(line){if(r.exec(line))return e.trigger("data",{type:"custom",data:o(line),customType:n,segment:c}),!0}))},r.addTagMapper=function(t){var e=t.expression,map=t.map;this.tagMappers.push((function(line){return e.test(line)?map(line):line}))},e}(d);function v(t){for(var e=o.a.atob(t||""),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}var y=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new h,e.parseStream=new m,e.lineStream.pipe(e.parseStream);var r,n,o=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e),l=[],d={},f=function(){},y={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},_=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(d.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(d.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(d.duration=t.duration),0===t.duration&&(d.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=l},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:v(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,_=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){r={},t.uri&&(r.uri=t.uri),t.byterange&&(r.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=l,this.manifest.mediaGroups=this.manifest.mediaGroups||y,t.attributes?(d.attributes||(d.attributes={}),c(d.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||y,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var r=this.manifest.mediaGroups[t.attributes.TYPE];r[t.attributes["GROUP-ID"]]=r[t.attributes["GROUP-ID"]]||{},e=r[t.attributes["GROUP-ID"]],(h={default:/yes/i.test(t.attributes.DEFAULT)}).default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){_+=1,d.discontinuity=!0,this.manifest.discontinuityStarts.push(l.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),d.dateTimeString=t.dateTimeString,d.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){d.cueOut=t.data},"cue-out-cont":function(){d.cueOutCont=t.data},"cue-in":function(){d.cueIn=t.data}}[t.tagType]||f).call(o)},uri:function(){d.uri=t.uri,l.push(d),this.manifest.targetDuration&&!("duration"in d)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),d.duration=this.manifest.targetDuration),n&&(d.key=n),d.timeline=_,r&&(d.map=r),d={}},comment:function(){},custom:function(){t.segment?(d.custom=d.custom||{},d.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(o)})),e}l(e,t);var r=e.prototype;return r.push=function(t){this.lineStream.push(t)},r.end=function(){this.lineStream.push("\n")},r.addParser=function(t){this.parseStream.addParser(t)},r.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(d)},1138:function(t,e,r){"use strict";r.d(e,"a",(function(){return it})),r.d(e,"b",(function(){return nt}));var n=r(1139),o=r.n(n),c=r(965),l=r.n(c),d=r(1140),h=r.n(d),f=r(953),m=function(t){return!!t&&"object"==typeof t},v=function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.reduce((function(e,source){return Object.keys(source).forEach((function(r){Array.isArray(e[r])&&Array.isArray(source[r])?e[r]=e[r].concat(source[r]):m(e[r])&&m(source[r])?e[r]=t(e[r],source[r]):e[r]=source[r]})),e}),{})},y=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},_=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},w="INVALID_NUMBER_OF_PERIOD",T="DASH_EMPTY_MANIFEST",C="DASH_INVALID_XML",A="NO_BASE_URL",x="SEGMENT_TIME_UNSPECIFIED",E="UNSUPPORTED_UTC_TIMING_SCHEME",S=function(t){var e=t.baseUrl,r=void 0===e?"":e,n=t.source,source=void 0===n?"":n,c=t.range,l=void 0===c?"":c,d=t.indexRange,h=void 0===d?"":d,f={uri:source,resolvedUri:o()(r||"",source)};if(l||h){var m=(l||h).split("-"),v=parseInt(m[0],10),y=parseInt(m[1],10);f.byterange={length:y-v+1,offset:v}}return f},D={static:function(t){var e=t.duration,r=t.timescale,n=void 0===r?1:r,o=t.sourceDuration;return{start:0,end:Math.ceil(o/(e/n))}},dynamic:function(t){var e=t.NOW,r=t.clientOffset,n=t.availabilityStartTime,o=t.timescale,c=void 0===o?1:o,l=t.duration,d=t.start,h=void 0===d?0:d,f=t.minimumUpdatePeriod,m=void 0===f?0:f,v=t.timeShiftBufferDepth,y=void 0===v?1/0:v,_=(e+r)/1e3,w=n+h,T=_+m-w,C=Math.ceil(T*c/l),A=Math.floor((_-w-y)*c/l),x=Math.floor((_-w)*c/l);return{start:Math.max(0,A),end:Math.min(C,x)}}},k=function(t){var e=t.type,r=void 0===e?"static":e,n=t.duration,o=t.timescale,c=void 0===o?1:o,l=t.sourceDuration,d=D[r](t),h=function(t,e){for(var r=[],i=t;i<e;i++)r.push(i);return r}(d.start,d.end).map(function(t){return function(e,r){var n=t.duration,o=t.timescale,c=void 0===o?1:o,l=t.periodIndex,d=t.startNumber;return{number:(void 0===d?1:d)+e,duration:n/c,timeline:l,time:r*n}}}(t));if("static"===r){var f=h.length-1;h[f].duration=l-n/c*f}return h},I=function(t){var e=t.baseUrl,r=t.initialization,n=void 0===r?{}:r,o=t.sourceDuration,c=t.timescale,l=void 0===c?1:c,d=t.indexRange,h=void 0===d?"":d,f=t.duration;if(!e)throw new Error(A);var m=S({baseUrl:e,source:n.sourceURL,range:n.range}),v=S({baseUrl:e,source:e,indexRange:h});if(v.map=m,f){var y=k(t);y.length&&(v.duration=y[0].duration,v.timeline=y[0].timeline)}else o&&(v.duration=o/l,v.timeline=0);return v.number=0,[v]},N=function(t,e,r){for(var n=t.sidx.map?t.sidx.map:null,o=t.sidx.duration,c=t.timeline||0,l=t.sidx.byterange,d=l.offset+l.length,h=e.timescale,f=e.references.filter((function(t){return 1!==t.referenceType})),m=[],v=d+e.firstOffset,i=0;i<f.length;i++){var y=e.references[i],_=y.referencedSize,w=y.subsegmentDuration,T=I({baseUrl:r,timescale:h,timeline:c,periodIndex:c,duration:w,sourceDuration:o,indexRange:v+"-"+(v+_-1)})[0];n&&(T.map=n),m.push(T),v+=_}return t.segments=m,t},U=function(t){var e;return(e=t.reduce((function(t,e){var r,n=e.attributes.id+(e.attributes.lang||"");return t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(r=t[n].segments).push.apply(r,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e,r;return t.discontinuityStarts=(e=t.segments,r="discontinuity",e.reduce((function(a,t,i){return t[r]&&a.push(i),a}),[])),t}))},L=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t){var r=t[i];if(r.sidx){var n=r.sidx.uri+"-"+(c=r.sidx.byterange,l=void 0,l=c.offset+c.length-1,c.offset+"-"+l),o=e[n]&&e[n].sidx;r.sidx&&o&&N(r,o,r.sidx.resolvedUri)}}var c,l;return t},P=function(t){var e,r=t.attributes,n=t.segments,o=t.sidx,c={attributes:(e={NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(c.contentProtection=r.contentProtection),o&&(c.sidx=o),c},R=function(t){var e,r=t.attributes,n=t.segments,o=t.sidx,c={attributes:(e={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(r.type||"static"),timeline:r.periodIndex,resolvedUri:"",targetDuration:r.duration,segments:n,mediaSequence:n.length?n[0].number:1};return r.contentProtection&&(c.contentProtection=r.contentProtection),o&&(c.sidx=o),c},O=function(t,e){var r;if(void 0===e&&(e={}),!t.length)return{};var n=t[0].attributes,o=n.sourceDuration,c=n.type,l=void 0===c?"static":c,d=n.suggestedPresentationDelay,h=n.minimumUpdatePeriod,f=void 0===h?0:h,m=U(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(R),v=U(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),y=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),_={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(r={AUDIO:{},VIDEO:{}},r["CLOSED-CAPTIONS"]={},r.SUBTITLES={},r),uri:"",duration:o,playlists:L(m,e),minimumUpdatePeriod:1e3*f};return"dynamic"===l&&(_.suggestedPresentationDelay=d),v.length&&(_.mediaGroups.AUDIO.audio=function(t,e){var r;void 0===e&&(e={});var n=t.reduce((function(a,t){var n=t.attributes.role&&t.attributes.role.value||"",o=t.attributes.lang||"",label="main";if(o){var c=n?" ("+n+")":"";label=""+t.attributes.lang+c}return a[label]&&a[label].playlists[0].attributes.BANDWIDTH>t.attributes.bandwidth||(a[label]={language:o,autoselect:!0,default:"main"===n,playlists:L([P(t)],e),uri:""},void 0===r&&"main"===n&&((r=t).default=!0)),a}),{});r||(n[Object.keys(n)[0]].default=!0);return n}(v,e)),y.length&&(_.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(a,t){var r,n,o,c,label=t.attributes.lang||"text";return a[label]||(a[label]={language:label,default:!1,autoselect:!1,playlists:L([(r=t,o=r.attributes,c=r.segments,void 0===c&&(c=[{uri:o.baseUrl,timeline:o.periodIndex,resolvedUri:o.baseUrl||"",duration:o.sourceDuration,number:0}],o.duration=o.sourceDuration),{attributes:(n={NAME:o.id,BANDWIDTH:o.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(o.type||"static"),timeline:o.periodIndex,resolvedUri:o.baseUrl||"",targetDuration:o.duration,segments:c,mediaSequence:c.length?c[0].number:1})],e),uri:""}),a}),{})}(y,e)),_},M=function(t,time,e){var r=t.NOW,n=t.clientOffset,o=t.availabilityStartTime,c=t.timescale,l=void 0===c?1:c,d=t.start,h=void 0===d?0:d,f=t.minimumUpdatePeriod,m=(r+n)/1e3+(void 0===f?0:f)-(o+h);return Math.ceil((m*l-time)/e)},B=function(t,e){for(var r=t.type,n=void 0===r?"static":r,o=t.minimumUpdatePeriod,c=void 0===o?0:o,l=t.media,d=void 0===l?"":l,h=t.sourceDuration,f=t.timescale,m=void 0===f?1:f,v=t.startNumber,y=void 0===v?1:v,_=t.periodIndex,w=[],time=-1,T=0;T<e.length;T++){var C=e[T],A=C.d,x=C.r||0,E=C.t||0;time<0&&(time=E),E&&E>time&&(time=E);var S=void 0;if(x<0){var D=T+1;S=D===e.length?"dynamic"===n&&c>0&&d.indexOf("$Number$")>0?M(t,time,A):(h*m-time)/A:(e[D].t-time)/A}else S=x+1;for(var k=y+w.length+S,I=y+w.length;I<k;)w.push({number:I,duration:A/m,time:time,timeline:_}),time+=A,I++}return w},$=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,j=function(t,e){return t.replace($,function(t){return function(e,r,n,o){if("$$"===e)return"$";if(void 0===t[r])return e;var c=""+t[r];return"RepresentationID"===r?c:(o=n?parseInt(o,10):1,c.length>=o?c:""+new Array(o-c.length+1).join("0")+c)}}(e))},V=function(t,e){var r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,c=void 0===n?{sourceURL:"",range:""}:n,l=S({baseUrl:t.baseUrl,source:j(c.sourceURL,r),range:c.range});return function(t,e){return t.duration||e?t.duration?k(t):B(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){r.Number=e.number,r.Time=e.time;var n=j(t.media||"",r);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:o()(t.baseUrl||"",n),map:l,number:e.number}}))},F=function(t,e){var r=t.duration,n=t.segmentUrls,o=void 0===n?[]:n;if(!r&&!e||r&&e)throw new Error(x);var c,l=o.map((function(e){return function(t,e){var r=t.baseUrl,n=t.initialization,o=void 0===n?{}:n,c=S({baseUrl:r,source:o.sourceURL,range:o.range}),l=S({baseUrl:r,source:e.media,range:e.mediaRange});return l.map=c,l}(t,e)}));return r&&(c=k(t)),e&&(c=B(t,e)),c.map((function(t,e){if(l[e]){var r=l[e];return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r}})).filter((function(t){return t}))},z=function(t){var e,r,n=t.attributes,o=t.segmentInfo;o.template?(r=V,e=v(n,o.template)):o.base?(r=I,e=v(n,o.base)):o.list&&(r=F,e=v(n,o.list));var c={attributes:n};if(!r)return c;var l=r(e,o.timeline);if(e.duration){var d=e,h=d.duration,f=d.timescale,m=void 0===f?1:f;e.duration=h/m}else l.length?e.duration=l.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return c.attributes=e,c.segments=l,o.base&&e.indexRange&&(c.sidx=l[0],c.segments=[]),c},Y=function(element,t){return _(element.childNodes).filter((function(e){return e.tagName===t}))},X=function(element){return element.textContent.trim()},H=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var r=e.slice(1),n=r[0],o=r[1],c=r[2],l=r[3],d=r[4],h=r[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(o||0)+86400*parseFloat(c||0)+3600*parseFloat(l||0)+60*parseFloat(d||0)+parseFloat(h||0)},G={mediaPresentationDuration:function(t){return H(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return H(t)},suggestedPresentationDelay:function(t){return H(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return H(t)},start:function(t){return H(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?H(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},W=function(t){return t&&t.attributes?_(t.attributes).reduce((function(a,t){var e=G[t.name]||G.DEFAULT;return a[t.name]=e(t.value),a}),{}):{}},Q={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},K=function(t,e){return e.length?y(t.map((function(t){return e.map((function(e){return o()(t,X(e))}))}))):t},J=function(t){var e=Y(t,"SegmentTemplate")[0],r=Y(t,"SegmentList")[0],n=r&&Y(r,"SegmentURL").map((function(s){return v({tag:"SegmentURL"},W(s))})),o=Y(t,"SegmentBase")[0],c=r||e,l=c&&Y(c,"SegmentTimeline")[0],d=r||o||e,h=d&&Y(d,"Initialization")[0],template=e&&W(e);template&&h?template.initialization=h&&W(h):template&&template.initialization&&(template.initialization={sourceURL:template.initialization});var f={template:template,timeline:l&&Y(l,"S").map((function(s){return W(s)})),list:r&&v(W(r),{segmentUrls:n,initialization:W(h)}),base:o&&v(W(o),{initialization:W(h)})};return Object.keys(f).forEach((function(t){f[t]||delete f[t]})),f},Z=function(t,e,r){return function(n){var o=W(n),c=K(e,Y(n,"BaseURL")),l=Y(n,"Role")[0],d={role:W(l)},f=v(t,o,d),m=Y(n,"ContentProtection").reduce((function(t,e){var r=W(e),n=Q[r.schemeIdUri];if(n){t[n]={attributes:r};var o=Y(e,"cenc:pssh")[0];if(o){var c=X(o),l=c&&h()(c);t[n].pssh=l}}return t}),{});Object.keys(m).length&&(f=v(f,{contentProtection:m}));var _=J(n),w=Y(n,"Representation"),T=v(r,_);return y(w.map(function(t,e,r){return function(n){var o=Y(n,"BaseURL"),c=K(e,o),l=v(t,W(n)),d=J(n);return c.map((function(t){return{segmentInfo:v(r,d),attributes:v(l,{baseUrl:t})}}))}}(f,c,T)))}},tt=function(t,e){void 0===e&&(e={});var r=e,n=r.manifestUri,o=void 0===n?"":n,c=r.NOW,d=void 0===c?Date.now():c,h=r.clientOffset,f=void 0===h?0:h,m=Y(t,"Period");if(!m.length)throw new Error(w);var _=W(t),T=K([o],Y(t,"BaseURL"));return _.sourceDuration=_.mediaPresentationDuration||0,_.NOW=d,_.clientOffset=f,y(m.map(function(t,e){return function(r,n){var o=K(e,Y(r,"BaseURL")),c=W(r),d=parseInt(c.id,10),h=l.a.isNaN(d)?n:d,f=v(t,{periodIndex:h}),m=Y(r,"AdaptationSet"),_=J(r);return y(m.map(Z(f,o,_)))}}(_,T)))},et=function(t){if(""===t)throw new Error(T);var e=(new f.DOMParser).parseFromString(t,"application/xml"),r=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(C);return r},it=function(t,e){return void 0===e&&(e={}),O(tt(et(t),e).map(z),e.sidxMapping)},nt=function(t){return function(t){var e=Y(t,"UTCTiming")[0];if(!e)return null;var r=W(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(E)}return r}(et(t))}},1139:function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=n(r(1100)),c=n(r(965));t.exports=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=o.buildAbsoluteURL(c.location&&c.location.href||"",t)),o.buildAbsoluteURL(t,e))}},1140:function(t,e,r){"use strict";(function(e){var n,o=(n=r(965))&&"object"==typeof n&&"default"in n?n.default:n;t.exports=function(t){for(var s,r=(s=t,o.atob?o.atob(s):e.from(s,"base64").toString("binary")),n=new Uint8Array(r.length),i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}}).call(this,r(1141).Buffer)},1141:function(t,e,r){"use strict";(function(t){var n=r(1142),o=r(1143),c=r(1144);function l(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(t,e){if(l()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,r){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return v(this,t)}return f(this,t,e,r)}function f(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=y(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|w(e,r),o=(t=d(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(h.isBuffer(e)){var r=0|_(e.length);return 0===(t=d(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?d(t,0):y(t,e);if("Buffer"===e.type&&c(e.data))return y(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function m(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function v(t,e){if(m(e),t=d(t,e<0?0:0|_(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function y(t,e){var r=e.length<0?0:0|_(e.length);t=d(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function _(t){if(t>=l())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l().toString(16)+" bytes");return 0|t}function w(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return G(t).length;e=(""+e).toLowerCase(),n=!0}}function T(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return L(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return R(this,e,r);case"base64":return U(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function C(b,t,e){var i=b[t];b[t]=b[e],b[e]=i}function A(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:x(t,e,r,n,o);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):x(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function x(t,e,r,n,o){var i,c=1,l=t.length,d=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;c=2,l/=2,d/=2,r/=2}function h(t,i){return 1===c?t[i]:t.readUInt16BE(i*c)}if(o){var f=-1;for(i=r;i<l;i++)if(h(t,i)===h(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===d)return f*c}else-1!==f&&(i-=i-f),f=-1}else for(r+d>l&&(r=l-d),i=r;i>=0;i--){for(var m=!0,v=0;v<d;v++)if(h(t,i+v)!==h(e,v)){m=!1;break}if(m)return i}return-1}function E(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var c=e.length;if(c%2!=0)throw new TypeError("Invalid hex string");n>c/2&&(n=c/2);for(var i=0;i<n;++i){var l=parseInt(e.substr(2*i,2),16);if(isNaN(l))return i;t[r+i]=l}return i}function S(t,e,r,n){return Q(G(e,t.length-r),t,r,n)}function D(t,e,r,n){return Q(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,r,n)}function k(t,e,r,n){return D(t,e,r,n)}function I(t,e,r,n){return Q(W(e),t,r,n)}function N(t,e,r,n){return Q(function(t,e){for(var r,n,o,c=[],i=0;i<t.length&&!((e-=2)<0);++i)r=t.charCodeAt(i),n=r>>8,o=r%256,c.push(o),c.push(n);return c}(e,t.length-r),t,r,n)}function U(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function L(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,c,l,d,h=t[i],f=null,m=h>239?4:h>223?3:h>191?2:1;if(i+m<=r)switch(m){case 1:h<128&&(f=h);break;case 2:128==(192&(o=t[i+1]))&&(d=(31&h)<<6|63&o)>127&&(f=d);break;case 3:o=t[i+1],c=t[i+2],128==(192&o)&&128==(192&c)&&(d=(15&h)<<12|(63&o)<<6|63&c)>2047&&(d<55296||d>57343)&&(f=d);break;case 4:o=t[i+1],c=t[i+2],l=t[i+3],128==(192&o)&&128==(192&c)&&128==(192&l)&&(d=(15&h)<<18|(63&o)<<12|(63&c)<<6|63&l)>65535&&d<1114112&&(f=d)}null===f?(f=65533,m=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=m}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return r}(n)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=l(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return f(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,r){return function(t,e,r,n){return m(e),e<=0?d(t,e):void 0!==r?"string"==typeof n?d(t,e).fill(r,n):d(t,e).fill(r):d(t,e)}(null,t,e,r)},h.allocUnsafe=function(t){return v(null,t)},h.allocUnsafeSlow=function(t){return v(null,t)},h.isBuffer=function(b){return!(null==b||!b._isBuffer)},h.compare=function(a,b){if(!h.isBuffer(a)||!h.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var t=a.length,e=b.length,i=0,r=Math.min(t,e);i<r;++i)if(a[i]!==b[i]){t=a[i],e=b[i];break}return t<e?-1:e<t?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!c(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=w,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<t;i+=2)C(this,i,i+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<t;i+=4)C(this,i,i+3),C(this,i+1,i+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<t;i+=8)C(this,i,i+7),C(this,i+1,i+6),C(this,i+2,i+5),C(this,i+3,i+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?L(this,0,t):T.apply(this,arguments)},h.prototype.equals=function(b){if(!h.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===h.compare(this,b)},h.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,o){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(this===t)return 0;for(var c=(o>>>=0)-(n>>>=0),l=(r>>>=0)-(e>>>=0),d=Math.min(c,l),f=this.slice(n,o),m=t.slice(e,r),i=0;i<d;++i)if(f[i]!==m[i]){c=f[i],l=m[i];break}return c<l?-1:l<c?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return A(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return A(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var c=!1;;)switch(n){case"hex":return E(this,t,e,r);case"utf8":case"utf-8":return S(this,t,e,r);case"ascii":return D(this,t,e,r);case"latin1":case"binary":return k(this,t,e,r);case"base64":return I(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,e,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=H(t[i]);return o}function M(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function B(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,r,n,o,c){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<c)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function j(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function V(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function F(t,e,r,n,o,c){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(t,e,r,n,c){return c||F(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function Y(t,e,r,n,c){return c||F(t,0,r,8),o.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else{var o=e-t;r=new h(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},h.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||B(t,e,this.length);for(var i=e,n=1,o=this[t+--i];i>0&&(n*=256);)o+=this[t+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||$(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||$(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):V(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);$(this,t,e,r,o-1,-o)}var i=0,c=1,sub=0;for(this[e]=255&t;++i<r&&(c*=256);)t<0&&0===sub&&0!==this[e+i-1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);$(this,t,e,r,o-1,-o)}var i=r-1,c=1,sub=0;for(this[e+i]=255&t;--i>=0&&(c*=256);)t<0&&0===sub&&0!==this[e+i+1]&&(sub=1),this[e+i]=(t/c>>0)-sub&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):j(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):V(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):V(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return z(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return z(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return Y(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return Y(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var code=t.charCodeAt(0);code<256&&(t=code)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var o=h.isBuffer(t)?t:G(new h(t,n).toString()),c=o.length;for(i=0;i<r-e;++i)this[i+e]=o[i%c]}return this};var X=/[^+\/0-9A-Za-z-_]/g;function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function G(t,e){var r;e=e||1/0;for(var n=t.length,o=null,c=[],i=0;i<n;++i){if((r=t.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&c.push(239,191,189);continue}if(i+1===n){(e-=3)>-1&&c.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&c.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&c.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;c.push(r)}else if(r<2048){if((e-=2)<0)break;c.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;c.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;c.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return c}function W(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(X,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(25))},1142:function(t,e,r){"use strict";e.byteLength=function(t){var e=d(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,i,r=d(t),n=r[0],l=r[1],h=new c(function(t,e,r){return 3*(e+r)/4-r}(0,n,l)),f=0,m=l>0?n-4:n;for(i=0;i<m;i+=4)e=o[t.charCodeAt(i)]<<18|o[t.charCodeAt(i+1)]<<12|o[t.charCodeAt(i+2)]<<6|o[t.charCodeAt(i+3)],h[f++]=e>>16&255,h[f++]=e>>8&255,h[f++]=255&e;2===l&&(e=o[t.charCodeAt(i)]<<2|o[t.charCodeAt(i+1)]>>4,h[f++]=255&e);1===l&&(e=o[t.charCodeAt(i)]<<10|o[t.charCodeAt(i+1)]<<4|o[t.charCodeAt(i+2)]>>2,h[f++]=e>>8&255,h[f++]=255&e);return h},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,c=[],i=0,l=r-o;i<l;i+=16383)c.push(h(t,i,i+16383>l?l:i+16383));1===o?(e=t[r-1],c.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],c.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return c.join("")};for(var n=[],o=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,l=code.length;i<l;++i)n[i]=code[i],o[code.charCodeAt(i)]=i;function d(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var o,c,output=[],i=e;i<r;i+=3)o=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),output.push(n[(c=o)>>18&63]+n[c>>12&63]+n[c>>6&63]+n[63&c]);return output.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},1143:function(t,e){e.read=function(t,e,r,n,o){var c,l,d=8*o-n-1,h=(1<<d)-1,f=h>>1,m=-7,i=r?o-1:0,v=r?-1:1,s=t[e+i];for(i+=v,c=s&(1<<-m)-1,s>>=-m,m+=d;m>0;c=256*c+t[e+i],i+=v,m-=8);for(l=c&(1<<-m)-1,c>>=-m,m+=n;m>0;l=256*l+t[e+i],i+=v,m-=8);if(0===c)c=1-f;else{if(c===h)return l?NaN:1/0*(s?-1:1);l+=Math.pow(2,n),c-=f}return(s?-1:1)*l*Math.pow(2,c-n)},e.write=function(t,e,r,n,o,c){var l,d,h,f=8*c-o-1,m=(1<<f)-1,v=m>>1,rt=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,i=n?0:c-1,y=n?1:-1,s=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,l=m):(l=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-l))<1&&(l--,h*=2),(e+=l+v>=1?rt/h:rt*Math.pow(2,1-v))*h>=2&&(l++,h/=2),l+v>=m?(d=0,l=m):l+v>=1?(d=(e*h-1)*Math.pow(2,o),l+=v):(d=e*Math.pow(2,v-1)*Math.pow(2,o),l=0));o>=8;t[r+i]=255&d,i+=y,d/=256,o-=8);for(l=l<<o|d,f+=o;f>0;t[r+i]=255&l,i+=y,l/=256,f-=8);t[r+i-y]|=128*s}},1144:function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},1145:function(t,e,r){"use strict";var n=r(1102).discardEmulationPreventionBytes,o=r(1146).CaptionStream,c=r(1101),l=r(1065),d=function(t,e){for(var r=t,i=0;i<e.length;i++){var n=e[i];if(r<n.size)return n;r-=n.size}return null},h=function(t,e){var r=c.findBox(t,["moof","traf"]),o=c.findBox(t,["mdat"]),h={},f=[];return o.forEach((function(t,e){var n=r[e];f.push({mdat:t,traf:n})})),f.forEach((function(t){var r,o=t.mdat,f=t.traf,m=c.findBox(f,["tfhd"]),v=l.parseTfhd(m[0]),y=v.trackId,_=c.findBox(f,["tfdt"]),w=_.length>0?l.parseTfdt(_[0]).baseMediaDecodeTime:0,T=c.findBox(f,["trun"]);e===y&&T.length>0&&(r=function(t,e,r){var o,i,c,l,h=new DataView(t.buffer,t.byteOffset,t.byteLength),f=[];for(i=0;i+4<t.length;i+=c)if(c=h.getUint32(i),i+=4,!(c<=0))switch(31&t[i]){case 6:var data=t.subarray(i+1,i+1+c),m=d(i,e);o={nalUnitType:"sei_rbsp",size:c,data:data,escapedRBSP:n(data),trackId:r},m?(o.pts=m.pts,o.dts=m.dts,l=m):(o.pts=l.pts,o.dts=l.dts),f.push(o)}return f}(o,function(t,e,r){var n=e,o=r.defaultSampleDuration||0,c=r.defaultSampleSize||0,d=r.trackId,h=[];return t.forEach((function(t){var e=l.parseTrun(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=o),void 0===t.size&&(t.size=c),t.trackId=d,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration})),h=h.concat(e)})),h}(T,w,v),y),h[y]||(h[y]=[]),h[y]=h[y].concat(r))})),h};t.exports=function(){var t,e,r,n,c,l,d=!1;this.isInitialized=function(){return d},this.init=function(e){t=new o,d=!0,l=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,c.captions.push(t),c.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length)&&(r!==t[0]||n!==e[r])},this.parse=function(t,o,l){var d;if(!this.isInitialized())return null;if(!o||!l)return null;if(this.isNewInit(o,l))r=o[0],n=l[r];else if(null===r||!n)return e.push(t),null;for(;e.length>0;){var f=e.shift();this.parse(f,o,l)}return null!==(d=function(t,e,r){return null===e?null:{seiNals:h(t,e)[e],timescale:r}}(t,r,n))&&d.seiNals?(this.pushNals(d.seiNals),this.flushStream(),c):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;l?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){c.captions=[],c.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],r=null,n=null,c?this.clearParsedCaptions():c={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},1146:function(t,e,r){"use strict";var n=r(1103),o=r(1102),c=function(){c.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new m(0,0),new m(0,1),new m(1,0),new m(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};c.prototype=new n,c.prototype.push=function(t){var e,r,n;if("sei_rbsp"===t.nalUnitType&&(e=o.parseSei(t.escapedRBSP)).payloadType===o.USER_DATA_REGISTERED_ITU_T_T35&&(r=o.parseUserData(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=o.parseCaptionPackets(t.pts,r),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},c.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},c.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(a,b){return a.pts===b.pts?a.presortIndex-b.presortIndex:a.pts-b.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},c.prototype.flush=function(){return this.flushStream("flush")},c.prototype.partialFlush=function(){return this.flushStream("partialFlush")},c.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},c.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},c.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},c.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},c.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var l={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},d=function(code){return null===code?"":(code=l[code]||code,String.fromCharCode(code))},h=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],f=function(){for(var t=[],i=15;i--;)t.push("");return t},m=function(t,e){m.prototype.init.call(this),this.field_=t||0,this.dataChannel_=e||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var data,e,r,n,text;if((data=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&data)?this.lastControlCode_=data:data!==this.PADDING_&&(this.lastControlCode_=null),r=data>>>8,n=255&data,data!==this.PADDING_)if(data===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(data===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),e=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=e,this.startPts_=t.pts;else if(data===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(data===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(data===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(data===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(data===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(data===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=f();else if(data===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=f();else if(data===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=f()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(r,n))text=d((r=(3&r)<<8)|n),this[this.mode_](t.pts,text),this.column_++;else if(this.isExtCharacter(r,n))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),text=d((r=(3&r)<<8)|n),this[this.mode_](t.pts,text),this.column_++;else if(this.isMidRowCode(r,n))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&n)&&this.addFormatting(t.pts,["i"]),1==(1&n)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(r,n))this.column_+=3&n;else if(this.isPAC(r,n)){var o=h.indexOf(7968&data);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&n&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&data)&&(this.column_=4*((14&data)>>1)),this.isColorPAC(n)&&14==(14&n)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(r)&&(0===n&&(n=null),text=d(r),text+=d(n),this[this.mode_](t.pts,text),this.column_+=text.length)}else this.lastControlCode_=null}};m.prototype=new n,m.prototype.flushDisplayed=function(t){var content=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");content.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:content,stream:this.name_})},m.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=f(),this.nonDisplayed_=f(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},m.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},m.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},m.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},m.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},m.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},m.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},m.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},m.prototype.isNormalChar=function(t){return t>=32&&t<=127},m.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=f(),this.displayed_=f()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},m.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var text=e.reduce((function(text,t){return text+"<"+t+">"}),"");this[this.mode_](t,text)},m.prototype.clearFormatting=function(t){if(this.formatting_.length){var text=this.formatting_.reverse().reduce((function(text,t){return text+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](t,text)}},m.prototype.popOn=function(t,text){var e=this.nonDisplayed_[this.row_];e+=text,this.nonDisplayed_[this.row_]=e},m.prototype.rollUp=function(t,text){var e=this.displayed_[this.row_];e+=text,this.displayed_[this.row_]=e},m.prototype.shiftRowsUp_=function(){var i;for(i=0;i<this.topRow_;i++)this.displayed_[i]="";for(i=this.row_+1;i<15;i++)this.displayed_[i]="";for(i=this.topRow_;i<this.row_;i++)this.displayed_[i]=this.displayed_[i+1];this.displayed_[this.row_]=""},m.prototype.paintOn=function(t,text){var e=this.displayed_[this.row_];e+=text,this.displayed_[this.row_]=e},t.exports={CaptionStream:c,Cea608Stream:m}},1147:function(t,e,r){"use strict";var n=r(1104),o=r(1148).handleRollover,c={};c.ts=r(1149),c.aac=r(1150);var l=r(1151).ONE_SECOND_IN_TS,d=function(t,e,r){for(var n,o,l,d,h=0,f=188,m=!1;f<=t.byteLength;)if(71!==t[h]||71!==t[f]&&f!==t.byteLength)h++,f++;else{switch(n=t.subarray(h,f),c.ts.parseType(n,e.pid)){case"pes":o=c.ts.parsePesType(n,e.table),l=c.ts.parsePayloadUnitStartIndicator(n),"audio"===o&&l&&(d=c.ts.parsePesTime(n))&&(d.type="audio",r.audio.push(d),m=!0)}if(m)break;h+=188,f+=188}for(h=(f=t.byteLength)-188,m=!1;h>=0;)if(71!==t[h]||71!==t[f]&&f!==t.byteLength)h--,f--;else{switch(n=t.subarray(h,f),c.ts.parseType(n,e.pid)){case"pes":o=c.ts.parsePesType(n,e.table),l=c.ts.parsePayloadUnitStartIndicator(n),"audio"===o&&l&&(d=c.ts.parsePesTime(n))&&(d.type="audio",r.audio.push(d),m=!0)}if(m)break;h-=188,f-=188}},h=function(t,e,r){for(var n,o,l,d,h,i,f,m=0,v=188,y=!1,_={data:[],size:0};v<t.byteLength;)if(71!==t[m]||71!==t[v])m++,v++;else{switch(n=t.subarray(m,v),c.ts.parseType(n,e.pid)){case"pes":if(o=c.ts.parsePesType(n,e.table),l=c.ts.parsePayloadUnitStartIndicator(n),"video"===o&&(l&&!y&&(d=c.ts.parsePesTime(n))&&(d.type="video",r.video.push(d),y=!0),!r.firstKeyFrame)){if(l&&0!==_.size){for(h=new Uint8Array(_.size),i=0;_.data.length;)f=_.data.shift(),h.set(f,i),i+=f.byteLength;if(c.ts.videoPacketContainsKeyFrame(h)){var w=c.ts.parsePesTime(h);w?(r.firstKeyFrame=w,r.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}_.size=0}_.data.push(n),_.size+=n.byteLength}}if(y&&r.firstKeyFrame)break;m+=188,v+=188}for(m=(v=t.byteLength)-188,y=!1;m>=0;)if(71!==t[m]||71!==t[v])m--,v--;else{switch(n=t.subarray(m,v),c.ts.parseType(n,e.pid)){case"pes":o=c.ts.parsePesType(n,e.table),l=c.ts.parsePayloadUnitStartIndicator(n),"video"===o&&l&&(d=c.ts.parsePesTime(n))&&(d.type="video",r.video.push(d),y=!0)}if(y)break;m-=188,v-=188}},f=function(t){var e={pid:null,table:null},r={};for(var o in function(t,e){for(var r,n=0,o=188;o<t.byteLength;)if(71!==t[n]||71!==t[o])n++,o++;else{switch(r=t.subarray(n,o),c.ts.parseType(r,e.pid)){case"pat":e.pid||(e.pid=c.ts.parsePat(r));break;case"pmt":e.table||(e.table=c.ts.parsePmt(r))}if(e.pid&&e.table)return;n+=188,o+=188}}(t,e),e.table){if(e.table.hasOwnProperty(o))switch(e.table[o]){case n.H264_STREAM_TYPE:r.video=[],h(t,e,r),0===r.video.length&&delete r.video;break;case n.ADTS_STREAM_TYPE:r.audio=[],d(t,e,r),0===r.audio.length&&delete r.audio}}return r};t.exports={inspect:function(t,e){var r;return(r=c.aac.isLikelyAacData(t)?function(t){for(var e,r=!1,n=0,o=null,d=null,h=0,f=0;t.length-f>=3;){switch(c.aac.parseType(t,f)){case"timed-metadata":if(t.length-f<10){r=!0;break}if((h=c.aac.parseId3TagSize(t,f))>t.length){r=!0;break}null===d&&(e=t.subarray(f,f+h),d=c.aac.parseAacTimestamp(e)),f+=h;break;case"audio":if(t.length-f<7){r=!0;break}if((h=c.aac.parseAdtsSize(t,f))>t.length){r=!0;break}null===o&&(e=t.subarray(f,f+h),o=c.aac.parseSampleRate(e)),n++,f+=h;break;default:f++}if(r)return null}if(null===o||null===d)return null;var m=l/o;return{audio:[{type:"audio",dts:d,pts:d},{type:"audio",dts:d+1024*n*m,pts:d+1024*n*m}]}}(t):f(t))&&(r.audio||r.video)?(function(t,e){if(t.audio&&t.audio.length){var r=e;void 0===r&&(r=t.audio[0].dts),t.audio.forEach((function(t){t.dts=o(t.dts,r),t.pts=o(t.pts,r),t.dtsTime=t.dts/l,t.ptsTime=t.pts/l}))}if(t.video&&t.video.length){var n=e;if(void 0===n&&(n=t.video[0].dts),t.video.forEach((function(t){t.dts=o(t.dts,n),t.pts=o(t.pts,n),t.dtsTime=t.dts/l,t.ptsTime=t.pts/l})),t.firstKeyFrame){var c=t.firstKeyFrame;c.dts=o(c.dts,n),c.pts=o(c.pts,n),c.dtsTime=c.dts/l,c.ptsTime=c.dts/l}}}(r,e),r):null},parseAudioPes_:d}},1148:function(t,e,r){"use strict";var n=r(1103),o=function(t,e){var r=1;for(t>e&&(r=-1);Math.abs(e-t)>4294967296;)t+=8589934592*r;return t},c=function(t){var e,r;c.prototype.init.call(this),this.type_=t||"shared",this.push=function(data){"shared"!==this.type_&&data.type!==this.type_||(void 0===r&&(r=data.dts),data.dts=o(data.dts,r),data.pts=o(data.pts,r),e=data.dts,this.trigger("data",data))},this.flush=function(){r=e,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){r=void 0,e=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};c.prototype=new n,t.exports={TimestampRolloverStream:c,handleRollover:o}},1149:function(t,e,r){"use strict";var n=r(1104),o=function(t){var e=31&t[1];return e<<=8,e|=t[2]},c=function(t){return!!(64&t[1])},l=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},d=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};t.exports={parseType:function(t,e){var r=o(t);return 0===r?"pat":r===e?"pmt":e?"pes":null},parsePat:function(t){var e=c(t),r=4+l(t);return e&&(r+=t[r]+1),(31&t[r+10])<<8|t[r+11]},parsePmt:function(t){var e={},r=c(t),n=4+l(t);if(r&&(n+=t[n]+1),1&t[n+5]){var o;o=3+((15&t[n+1])<<8|t[n+2])-4;for(var d=12+((15&t[n+10])<<8|t[n+11]);d<o;){var i=n+d;e[(31&t[i+1])<<8|t[i+2]]=t[i],d+=5+((15&t[i+3])<<8|t[i+4])}return e}},parsePayloadUnitStartIndicator:c,parsePesType:function(t,e){switch(e[o(t)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!c(t))return null;var e=4+l(t);if(e>=t.byteLength)return null;var r,n=null;return 192&(r=t[e+7])&&((n={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,n.pts*=4,n.pts+=(6&t[e+13])>>>1,n.dts=n.pts,64&r&&(n.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,n.dts*=4,n.dts+=(6&t[e+18])>>>1)),n},videoPacketContainsKeyFrame:function(t){for(var e=4+l(t),r=t.subarray(e),n=0,o=0,c=!1;o<r.byteLength-3;o++)if(1===r[o+2]){n=o+5;break}for(;n<r.byteLength;)switch(r[n]){case 0:if(0!==r[n-1]){n+=2;break}if(0!==r[n-2]){n++;break}o+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===d(31&r[o+3])&&(c=!0);do{n++}while(1!==r[n]&&n<r.length);o=n-2,n+=3;break;case 1:if(0!==r[n-1]||0!==r[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===d(31&r[o+3])&&(c=!0),o=n-2,n+=3;break;default:n+=3}return r=r.subarray(o),n-=o,o=0,r&&r.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===d(31&r[o+3])&&(c=!0),c}}},1150:function(t,e,r){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=function(data){return data[0]<<21|data[1]<<14|data[2]<<7|data[3]};t.exports={isLikelyAacData:function(data){return data[0]==="I".charCodeAt(0)&&data[1]==="D".charCodeAt(0)&&data[2]==="3".charCodeAt(0)},parseId3TagSize:function(header,t){var e=header[t+6]<<21|header[t+7]<<14|header[t+8]<<7|header[t+9];return(16&header[t+5])>>4?e+20:e+10},parseAdtsSize:function(header,t){var e=(224&header[t+5])>>5,r=header[t+4]<<3;return 6144&header[t+3]|r|e},parseType:function(header,t){return header[t]==="I".charCodeAt(0)&&header[t+1]==="D".charCodeAt(0)&&header[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&header[t]&&240==(240&header[t+1])?"audio":null},parseSampleRate:function(t){for(var i=0;i+5<t.length;){if(255===t[i]&&240==(246&t[i+1]))return n[(60&t[i+2])>>>2];i++}return null},parseAacTimestamp:function(t){var e,r,n;e=10,64&t[5]&&(e+=4,e+=o(t.subarray(10,14)));do{if((r=o(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){n=t.subarray(e+10,e+r+10);for(var i=0;i<n.byteLength;i++)if(0===n[i]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,r){var i,n="";for(i=e;i<r;i++)n+="%"+("00"+t[i].toString(16)).slice(-2);return n}(n,0,i))){var c=n.subarray(i+1),l=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;return l*=4,l+=3&c[7]}break}}e+=10,e+=r}while(e<t.byteLength);return null}}},1151:function(t,e){var r,n,o,c,l,d,h;r=function(t){return 9e4*t},n=function(t,e){return t*e},o=function(t){return t/9e4},c=function(t,e){return t/e},l=function(t,e){return r(c(t,e))},d=function(t,e){return n(o(t),e)},h=function(t,e,r){return o(r?t:t-e)},t.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:r,secondsToAudioTs:n,videoTsToSeconds:o,audioTsToSeconds:c,audioTsToVideoTs:l,videoTsToAudioTs:d,metadataTsToSeconds:h}},1152:function(t,e,r){"use strict";r(1105)},1165:function(t,e,r){"use strict";r.r(e);var n=r(1120),o={name:"VideoPop",props:{url:{type:String,default:""},coverUrl:{type:String,default:""}},data:function(){return{options:{autoplay:!0,controls:!0},player:null}},mounted:function(){document.addEventListener("click",this.removeVideoPop),this.initVideoJs()},methods:{initVideoJs:function(){var t=this;this.player=Object(n.a)("videoPlayer",this.options,(function(){var e=this;n.a.log("Your player is ready!"),this.play(),this.on("error",(function(){e.errorDisplay.close(),e.createModal(t.$t("core.videoError"))}))}))},removeVideoPop:function(t){var e=!0;(t.path||t.composedPath&&t.composedPath()).forEach((function(t){"video-pop"===t.id&&(e=!1),t.classList&&t.classList.contains("svg-icon-video-play")&&(e=!1)})),e&&(this.$emit("remove"),this.player.dispose(),document.removeEventListener("click",this.removeVideoPop))}}},c=(r(1152),r(12)),component=Object(c.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video-pop",attrs:{id:"video-pop"}},[e("Cover"),this._v(" "),e("video",{staticClass:"video-js",attrs:{id:"videoPlayer",controls:"",width:"800px",height:"600px",preload:"auto","data-setup":"{}"}},[e("source",{attrs:{src:this.url}}),this._v(" "),e("source",{attrs:{src:this.url,type:"video/webm"}})])],1)}),[],!1,null,"625079a2",null);e.default=component.exports;installComponents(component,{Cover:r(891).default})},1173:function(t,e,r){"use strict";r.d(e,"c",(function(){return m})),r.d(e,"b",(function(){return v})),r.d(e,"a",(function(){return h}));var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=null,l=function(){function t(e){n(this,t),c||(c=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],r=t[1],n=e[4],o=r[4],i=void 0,c=void 0,l=void 0,d=[],th=[],h=void 0,f=void 0,s=void 0,m=void 0,v=void 0;for(i=0;i<256;i++)th[(d[i]=i<<1^283*(i>>7))^i]=i;for(c=l=0;!n[c];c^=h||1,l=th[l]||1)for(s=(s=l^l<<1^l<<2^l<<3^l<<4)>>8^255&s^99,n[c]=s,o[s]=c,v=16843009*d[f=d[h=d[c]]]^65537*f^257*h^16843008*c,m=257*d[s]^16843008*s,i=0;i<4;i++)e[i][c]=m=m<<24^m>>>8,r[i][s]=v=v<<24^v>>>8;for(i=0;i<5;i++)e[i]=e[i].slice(0),r[i]=r[i].slice(0);return t}()),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var i=void 0,r=void 0,o=void 0,l=void 0,d=void 0,h=this._tables[0][4],f=this._tables[1],m=e.length,v=1;if(4!==m&&6!==m&&8!==m)throw new Error("Invalid aes key size");for(l=e.slice(0),d=[],this._key=[l,d],i=m;i<4*m+28;i++)o=l[i-1],(i%m==0||8===m&&i%m==4)&&(o=h[o>>>24]<<24^h[o>>16&255]<<16^h[o>>8&255]<<8^h[255&o],i%m==0&&(o=o<<8^o>>>24^v<<24,v=v<<1^283*(v>>7))),l[i]=l[i-m]^o;for(r=0;i;r++,i--)o=l[3&r?i:i-4],d[r]=i<=4||r<4?o:f[0][h[o>>>24]]^f[1][h[o>>16&255]]^f[2][h[o>>8&255]]^f[3][h[255&o]]}return t.prototype.decrypt=function(t,e,r,n,o,c){var l=this._key[1],a=t^l[0],b=n^l[1],d=r^l[2],h=e^l[3],f=void 0,m=void 0,v=void 0,y=l.length/4-2,i=void 0,_=4,table=this._tables[1],w=table[0],T=table[1],C=table[2],A=table[3],x=table[4];for(i=0;i<y;i++)f=w[a>>>24]^T[b>>16&255]^C[d>>8&255]^A[255&h]^l[_],m=w[b>>>24]^T[d>>16&255]^C[h>>8&255]^A[255&a]^l[_+1],v=w[d>>>24]^T[h>>16&255]^C[a>>8&255]^A[255&b]^l[_+2],h=w[h>>>24]^T[a>>16&255]^C[b>>8&255]^A[255&d]^l[_+3],_+=4,a=f,b=m,d=v;for(i=0;i<4;i++)o[(3&-i)+c]=x[a>>>24]<<24^x[b>>16&255]<<16^x[d>>8&255]<<8^x[255&h]^l[_++],f=a,a=b,b=d,d=h,h=f},t}(),d=function(){function t(){n(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var r=this.listeners[t].indexOf(e);return this.listeners[t].splice(r,1),r>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var r=e.length,i=0;i<r;++i)e[i].call(this,arguments[1]);else for(var n=Array.prototype.slice.call(arguments,1),o=e.length,c=0;c<o;++c)e[c].apply(this,n)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",(function(data){t.push(data)}))},t}(),h=function(t){function e(){n(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,d));return r.jobs=[],r.delay=1,r.timeout_=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(d),f=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},m=function(t,e,r){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),o=new l(Array.prototype.slice.call(e)),c=new Uint8Array(t.byteLength),d=new Int32Array(c.buffer),h=void 0,m=void 0,v=void 0,y=void 0,_=void 0,w=void 0,T=void 0,C=void 0,A=void 0;for(h=r[0],m=r[1],v=r[2],y=r[3],A=0;A<n.length;A+=4)_=f(n[A]),w=f(n[A+1]),T=f(n[A+2]),C=f(n[A+3]),o.decrypt(_,w,T,C,d,A),d[A]=f(d[A]^h),d[A+1]=f(d[A+1]^m),d[A+2]=f(d[A+2]^v),d[A+3]=f(d[A+3]^y),h=_,m=w,v=T,y=C;return c},v=function(){function t(e,r,o,c){n(this,t);var l=t.STEP,d=new Int32Array(e.buffer),m=new Uint8Array(e.byteLength),i=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_(d.subarray(i,i+l),r,o,m)),i=l;i<d.length;i+=l)o=new Uint32Array([f(d[i-4]),f(d[i-3]),f(d[i-2]),f(d[i-1])]),this.asyncStream_.push(this.decryptChunk_(d.subarray(i,i+l),r,o,m));this.asyncStream_.push((function(){var t;c(null,(t=m).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,r,n){return function(){var o=m(t,e,r);n.set(o,t.byteOffset)}},o(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}()},1174:function(t,e,r){},1275:function(t,e,r){"use strict";r(1174)},1423:function(t,e,r){"use strict";r.r(e);r(13),r(23),r(24);var n=r(79),o=r(7),c=r(9),l=(r(20),r(18),r(17),r(964),r(46),r(14),r(40),r(55),r(878)),d=r(873),h=r.n(d),f=r(973),m=r.n(f),v=r(208),y=r.n(v),_=r(212),w=r(210);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var A={name:"Index",layout:"custom_layout",mixins:[h.a,m.a,y.a],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d,h,f,m,v,y,T,A,x,E,S;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.store,t.query,_.a.isSpider){e.next=3;break}return e.abrupt("return",{});case 3:return n={page:1,perPage:10,"filter[types][0]":14,filter:{sticky:0,essence:0}},1===r.getters["site/getSortStatus"]&&(n.homeSequence=1),o={include:"groups",limit:4},c={type:7},e.prev=7,l={},e.next=11,r.dispatch("site/getSiteInfo");case 11:return d=e.sent,e.next=14,w.a.readStickList();case 14:return h=e.sent,e.next=17,w.a.readThreadList({params:n});case 17:return f=e.sent,e.next=20,w.a.readCategories({params:c});case 20:return m=e.sent,e.next=23,r.dispatch("jv/get",["users/recommended",{params:o}]);case 23:return v=e.sent,e.next=26,r.dispatch("jv/get",["threads/recommend",{}]);case 26:y=e.sent,d&&d.attributes&&d.attributes.set_site&&(l.headTitle=d.attributes.set_site.site_title||d.attributes.set_site.site_name||"Discuz! Q",l.headKeywords=d.attributes.set_site.site_keywords,l.headDesc=d.attributes.set_site.site_introduction),Array.isArray(h.Data)?l.threadsStickyData=h.Data:h&&h._jv&&h._jv.json&&((T=h._jv.json.data||[]).forEach((function(t,e){T[e]=C(C(C({},t),t.attributes),{},{firstPost:t.relationships.firstPost.data,jv:{id:t.id}})})),l.threadsStickyData=T),Array.isArray(f)?(f.Data.pageData.forEach((function(t){t.id=t.thread&&t.thread.pid,t.attachment.length>0&&(t.attachment=t.attachment.filter((function(t){return t.thumbUrl})))})),l.threadsData=f.Data.pageData):f&&f._jv&&f._jv.json&&((A=f._jv.json.data||[]).forEach((function(t,e){A[e]=C(C(C({},t),t.attributes),{},{firstPost:t.relationships.firstPost.data,user:t.relationships.user.data,_jv:{id:t.id}})})),l.threadsData=A),Array.isArray(m.Data)?l.categoryData=m.Data:m&&m._jv&&m._jv.json&&((x=m._jv.json.data||[]).forEach((function(t,e){x[e]=C(C(C({},t),t.attributes),{},{_jv:{id:t.id}})})),l.categoryData=x),Array.isArray(y)?l.recommendContentData=y:y&&y._jv&&y._jv.json&&((E=y._jv.json.data||[]).forEach((function(t,e){E[e]=C(C({},t),t.attributes)})),l.recommendContentData=E),Array.isArray(v)?l.recommendUserData=v:v&&v._jv&&v._jv.json&&((S=v._jv.json.data||[]).forEach((function(t,e){S[e]=C(C({},t),t.attributes)})),l.recommendUserData=S),callback(null,l),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(7),callback(null,{_error__abc:{error_keys:Object.keys(e.t0),error:String(e.t0),errno:e.t0.errno,code:e.t0.code,syscall:e.t0.syscall,address:e.t0.address,port:e.t0.port,config:e.t0.config,request_domain:(e.t0.request||{}).domain,request_keys:Object.keys(e.t0.request||{}),response_keys:Object.keys(e.t0.response||{})}});case 39:case"end":return e.stop()}}),e,null,[[7,36]])})))()},data:function(){return{isSpider:_.a.isSpider,loading:!1,threadsStickyData:[],threadsData:[],posterData:[],categoryData:[],recommendUserData:[],recommendContentData:[],pageNum:1,pageSize:10,threadType:"",sort:"",threadEssence:"",siteOpenSortStatus:!1,threadSort:0,fromUserId:0,hasMore:!1,timer:null,threadCount:0,total:0,headTitle:"‎",headKeywords:"",headDesc:"",currentAudioId:"",showVideoPop:!1,threadVideo:{},threadIdSet:new Set,newData:""}},computed:{userId:function(){return this.$store.getters["session/get"]("userId")},forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{forums:{handler:function(t){t&&t.set_site&&(this.headTitle=t.set_site.site_title||t.set_site.site_name||"Discuz! Q",this.headKeywords=t.set_site.site_keywords,this.headDesc=t.set_site.site_introduction)},deep:!0}},mounted:function(){this.forums&&this.forums.set_site&&(this.headTitle=this.forums.set_site.site_title||this.forums.set_site.site_name||"Discuz! Q",this.userDATA=this.forums.set_site.site_keywords,this.headKeywords=this.forums.set_site.site_keywords,this.headDesc=this.forums.set_site.site_introduction),0===this.threadsStickyData.length&&this.getThreadsSticky(),this.preThreadsData=null,this.preThreadsLoading=!1,this.initThread(),this.getPosterData()},destroyed:function(){clearInterval(this.timer)},methods:{preLoadThreads:function(){var t=this;if(!this.preThreadsData&&!this.preThreadsLoading){this.preThreadsLoading=!0;var e=this.getThreadsParams();return w.a.readThreadList({params:e}).then((function(r){t.preThreadsData=Object(o.a)({},e.page,r)})).catch((function(){t.preThreadsData=null})).finally((function(){t.preThreadsLoading=!1}))}},getThreadsParams:function(){var t={};return t={page:this.pageNum,perPage:this.pageSize,"filter[types][0]":14,filter:{sticky:0,essence:"yes"===this.threadEssence?1:0,attention:this.fromUserId}},this.threadSort,(this.threadType||0===this.threadType)&&(t.filter.types=[this.threadType]),(this.sort||0===this.sort)&&(t.filter.sort=this.sort),t},getPosterData:function(){var t=this;this.$store.dispatch("jv/get",["poster.v2",{}]).then((function(e){t.posterData=e._jv.json.Data}))},getThreadsSticky:function(){var t=this;this.threadsStickyData=[],w.a.readStickList().then((function(e){t.threadsStickyData=Object(n.a)(e.Data)}))},initThread:function(){var t=this;this.$store.dispatch("site/getSiteInfo").then((function(e){t.threadSort=e.attributes.set_site.site_open_sort,t.siteOpenSortStatus=1===t.threadSort,0===t.threadsData.length?t.getThreadsList("first"):(t.newData.currentPage<t.newData.totalPage&&(t.hasMore=!0),t.timer&&clearInterval(t.timer),t.timer=setInterval((function(){t.autoLoadThreads()}),3e4))}))},handleThreadsStickyClick:function(t){var e=this;if(!t.canViewPosts)return this.$store.getters["session/get"]("isLogin")?this.$message.warning(this.$t("home.noPostingTopic")):(this.$message.warning(this.$t("core.not_authenticated")),window.setTimeout((function(){e.headerTologin()}),1e3)),!1;var r="/thread/".concat(t&&t.pid);window.open(r,"_black")},getThreadsList:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e.preThreadsData||!e.preThreadsData[e.pageNum]){r.next=6;break}n=e.preThreadsData[e.pageNum],e.preThreadsData=null,r.next=11;break;case 6:return e.preThreadsData=null,o=e.getThreadsParams(),r.next=10,w.a.readThreadList({params:o});case 10:n=r.sent;case 11:c=n.Data.pageData.map((function(t){var e=t;return e.id=t.thread.pid,e.attachment.length>0&&(e.attachment=e.attachment.filter((function(t){return t.thumbUrl}))),e})),e.handleThreadList(n.Data,c,"threadsData"),e.$nextTick((function(){t&&"first"===t&&(e.timer&&clearInterval(e.timer),e.timer=setInterval((function(){e.autoLoadThreads()}),5e4))})),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),e.handleError(r.t0);case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},scrollDdata:function(){this.preLoadThreads()},loadMore:function(){this.getThreadsList()},autoLoadThreads:function(){var t=this,e=this.getThreadsParams();e.page=1,w.a.readThreadList({params:e}).then((function(data){if(data&&data.Data){var e=data&&data.Data&&data.Data.totalCount||0;t.threadCount>0&&(t.total=e-t.threadCount>0?e-t.threadCount:0)}}))},reloadThreadsList:function(){this.pageNum=1,this.preThreadsData=null,this.total=0,this.threadsData=[],this.getThreadsList()},onChangeCategory:function(t){0!==t.id?this.$router.push({path:"/ask/".concat(t.id,"?url=asks"),query:{search_ids:t.search_ids}}):this.$router.push("/asks")},onChangeFilter:function(t){this.preThreadsData=null,this.threadSort=0,this.threadEssence="",this.fromUserId=0,"isSort"===t&&(this.threadSort=1),"isEssence"===t&&(this.threadEssence="yes"),this.fromUserId="followed"===t?1:0,this.reloadThreadsList()},onChangeType:function(t){this.threadType=t,this.reloadThreadsList()},onChangeSort:function(t){this.sort="-createdAt"===t?2:"-updatedAt"===t?3:1,this.reloadThreadsList()},formatRichText:function(html){return l.a.parse(html)},audioPlay:function(t){this.currentAudioId&&this.currentAudioId!==t&&this.$refs["audio".concat(this.currentAudioId)]&&this.$refs["audio".concat(this.currentAudioId)].pause(),this.currentAudioId=t},showVideoFn:function(video){this.threadVideo=video,this.showVideoPop=!0}},head:function(){return{title:"提问 - "+this.headTitle,meta:[{hid:"keywords",name:"keywords",content:this.headKeywords},{hid:"description",name:"description",content:this.headDesc}]}}},x=(r(1275),r(12)),component=Object(x.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("main",{staticClass:"cont-center"},[t.posterData.length>0?r("el-carousel",{staticClass:"kuq-yuanjiao-10 kuq-xia-10",attrs:{interval:5e3,arrow:"always"}},t._l(t.posterData,(function(t,e){return r("el-carousel-item",{key:e},[r("nuxt-link",{attrs:{to:"/thread/"+(t&&t.pid)}},[r("img",{staticClass:"kuq-yuanjiao-10",attrs:{src:t.url}})])],1)})),1):t._e(),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&1==t.forums.set_site.site_ask[0].value,expression:"forums && forums.set_site && forums.set_site.site_ask && forums.set_site.site_ask[0].value == 1"}]},[t.userId?r("el-row",{staticClass:"kuq-xia-10"},[t.forums&&t.forums.other&&!1===t.forums.other.can_create_thread_ask?r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"kuq-buhuanhang"},[t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&1==t.forums.set_site.site_ask[0].hangshu?r("div",{staticClass:"kuq-zuobian kuq-juzhong kuq-baifei"},[r("span",{staticClass:"kuq-font-16"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].shuoming)+"\n                ")]),t._v(" "),r("br"),t._v(" "),r("el-link",{staticClass:"kuq-font-16 kuq-shang-10",attrs:{type:"danger",href:"/my/vip"}},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].zanzhu)+"\n                ")]),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"kuq-juzhong kuq-shang-10"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].fuwu)+"\n                ")])],1):r("div",{staticClass:"kuq-zuobian kuq-juzhong kuq-baifei "},[r("span",{staticClass:"kuq-font-16"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].shuoming)+"\n                  "),r("el-link",{staticClass:"kuq-font-16",attrs:{underline:!1,type:"danger",href:"/my/vip"}},[t._v("\n                    "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].zanzhu)+"\n                  ")])],1),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"kuq-juzhong kuq-shang-10"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].fuwu)+"\n                ")])]),t._v(" "),t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&1==t.forums.set_site.site_ask[0].hangshu?r("div",[r("el-link",{staticClass:"kuq-font-16 kuq-youbian kuq-shang-20",attrs:{underline:!1,type:"danger",href:"/my/vip"}},[r("el-button",{attrs:{type:"danger",round:""}},[t._v("\n                    我要提问 +\n                  ")])],1)],1):r("div",[r("el-link",{staticClass:"kuq-font-16 kuq-youbian kuq-shang-5",attrs:{underline:!1,type:"danger",href:"/my/vip"}},[r("el-button",{attrs:{type:"danger",round:""}},[t._v("\n                    我要提问 +\n                  ")])],1)],1)]),t._v(" "),r("div",{staticClass:"kuq-clear"})])],1):r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"kuq-zuobian"},[r("div",{staticClass:"kuq-font-16 kuq-shang-10"},[t._v("\n                "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].tishi)+"\n              ")])]),t._v(" "),r("el-link",{staticClass:"kuq-font-16 kuq-youbian",attrs:{underline:!1,type:"danger",href:"/thread/postpay?type=14"}},[r("el-button",{attrs:{type:"danger",round:""}},[t._v("\n                我要提问 +\n              ")])],1),t._v(" "),r("div",{staticClass:"kuq-clear"})],1)],1)],1):r("el-row",{staticClass:"kuq-xia-10"},[r("el-col",{attrs:{span:24}},[r("el-card",{attrs:{shadow:"never"}},[r("div",{staticClass:"kuq-buhuanhang"},[t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&1==t.forums.set_site.site_ask[0].hangshu?r("div",{staticClass:"kuq-zuobian kuq-juzhong kuq-baifei"},[r("span",{staticClass:"kuq-font-16"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].shuoming)+"\n                ")]),t._v(" "),r("br"),t._v(" "),r("el-link",{staticClass:"kuq-font-16 kuq-shang-10",attrs:{type:"danger",href:"/my/vip"}},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].zanzhu)+"\n                ")]),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"kuq-juzhong kuq-shang-10"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].fuwu)+"\n                ")])],1):r("div",{staticClass:"kuq-zuobian kuq-juzhong kuq-baifei "},[r("span",{staticClass:"kuq-font-16"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].shuoming)+"\n                  "),r("el-link",{staticClass:"kuq-font-16",attrs:{underline:!1,type:"danger",href:"/my/vip"}},[t._v("\n                    "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].zanzhu)+"\n                  ")])],1),t._v(" "),r("br"),t._v(" "),r("div",{staticClass:"kuq-juzhong kuq-shang-10"},[t._v("\n                  "+t._s(t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&t.forums.set_site.site_ask[0].fuwu)+"\n                ")])]),t._v(" "),t.forums&&t.forums.set_site&&t.forums.set_site.site_ask&&1==t.forums.set_site.site_ask[0].hangshu?r("div",[r("el-link",{staticClass:"kuq-font-16 kuq-youbian kuq-shang-20",attrs:{underline:!1,type:"danger",href:"/my/vip"}},[r("el-button",{attrs:{type:"danger",round:""}},[t._v("\n                    我要提问 +\n                  ")])],1)],1):r("div",[r("el-link",{staticClass:"kuq-font-16 kuq-youbian kuq-shang-5",attrs:{underline:!1,type:"danger",href:"/my/vip"}},[r("el-button",{attrs:{type:"danger",round:""}},[t._v("\n                    我要提问 +\n                  ")])],1)],1)]),t._v(" "),r("div",{staticClass:"kuq-clear"})])],1)],1)],1),t._v(" "),r("div",{staticClass:"kuq-clear"}),t._v(" "),t.isSpider?[t._l(t.threadsData,(function(e,n){return[4===e.type?r("post-items",{key:n,ref:"audio"+(e.thread&&e.thread.extension&&e.thread.extension.video&&e.thread.extension.video.pid),refInFor:!0,attrs:{item:e},on:{audioPlay:t.audioPlay}}):r("post-items",{key:n,attrs:{item:e}})]}))]:r("dynamic-scroller",{staticClass:"scroller",attrs:{items:t.threadsData,"min-item-size":120,"item-height":10,"page-mode":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,o=e.index,c=e.active;return[r("dynamic-scroller-item",{attrs:{item:n,active:c,"data-index":o}},[4===n.thread.type?r("post-item-pays",{key:o,ref:"audio"+(n.thread&&n.thread.extension&&n.thread.extension.video&&n.thread.extension.video.pid),attrs:{item:n,lazy:!1},on:{audioPlay:t.audioPlay}}):r("post-item-pays",{key:o,attrs:{item:n,lazy:!1},on:{showVideoFn:t.showVideoFn}})],1)]}},{key:"after",fn:function(){return[r("list-load-more",{attrs:{loading:t.loading,"has-more":t.hasMore,"page-num":t.pageNum,length:t.threadsData.length},on:{loadMore:t.loadMore,scrollDdata:t.scrollDdata}})]},proxy:!0}])})],2),t._v(" "),r("aside",{staticClass:"cont-left"},[r("div",{staticClass:"category background-color"},[r("categoryask-pays",{attrs:{list:t.categoryData},on:{onChange:t.onChangeCategory}})],1)]),t._v(" "),r("div",{staticClass:"cont-right"},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.forums&&t.forums.set_site&&1==t.forums.set_site.site_weixinapp,expression:"forums && forums.set_site && forums.set_site.site_weixinapp == 1"}],staticClass:"background-color"},[r("weixinapp")],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.forums&&t.forums.set_site&&1==t.forums.set_site.site_weixinkefu,expression:"forums && forums.set_site && forums.set_site.site_weixinkefu == 1"}],staticClass:"background-color"},[r("weixinlianxi")],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.recommendContentData.legnth,expression:"recommendContentData.legnth !== 0"}],staticClass:"background-color"},[r("recommend-content",{attrs:{list:t.recommendContentData}})],1),t._v(" "),r("div",{staticClass:"background-color kuq-shang-10"},[r("advertising")],1),t._v(" "),r("copyright",{attrs:{forums:t.forums}})],1),t._v(" "),t.showVideoPop?r("video-pop",{attrs:{"cover-url":t.threadVideo.coverUrl,url:t.threadVideo.mediaUrl},on:{remove:function(e){t.showVideoPop=!1}}}):t._e()],1)}),[],!1,null,"f8e8c632",null);e.default=component.exports;installComponents(component,{IndexFilter:r(1029).default,PostItems:r(1030).default,ListLoadMore:r(890).default,CategoryPays:r(1031).default,Advertising:r(948).default,RecommendUser:r(911).default,Copyright:r(949).default,PostItemPays:r(1032).default,CategoryaskPays:r(1117).default,Weixinapp:r(1118).default,Weixinlianxi:r(1119).default,RecommendContent:r(1033).default,VideoPop:r(1165).default})},875:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"c",(function(){return o})),r.d(e,"a",(function(){return c}));r(66),r(209);var n=function(time){var t=((window.currentTime||new Date)-new Date(time))/1e3;return 0===parseInt(t)?"刚刚发布":parseInt(t)<60?"".concat(parseInt(t),"秒前"):parseInt(t/60)<60?"".concat(parseInt(t/60),"分钟前"):parseInt(t/60/60)<16?"".concat(parseInt(t/60/60),"小时前"):time.replace(/T/," ").replace(/Z/,"").substring(0,16)},o=function(t){var e=t-Math.round(new Date/1e3);return parseInt(e/86400,0)},c=function(t){var e=Math.round(new Date(t)/1e3),r=Math.round(new Date/1e3)-e,n=parseInt(r/86400,0);if(n>365){var o=parseInt(r/86400/365,0);return"".concat(o,"年")}return"".concat(n,"天")}},880:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r},t.exports.default=t.exports,t.exports.__esModule=!0},881:function(t,e,r){},883:function(t,e,r){},885:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABCCAMAAADQfyDnAAAARVBMVEVHcEz/1t7/MF//M2D/TXL/YoH/d5H/NWP/8/X/2N/+HlX/H1b/+Pr/kqb/sb//NWL/197/W3z/fJX/5On/n7H/ydP/R22l4cNJAAAACnRSTlMAM4RE1sCo5g4grga5YgAAAxZJREFUWMOllol26yAMRPW6pR12vPz/pz6BDRbYTe3YPUmT2LoMIwmgD6Wg0iu9pwtYvtcfxCc03x5vP0T0tUUKiohuLpR3pHHweM+E9lY3WMbKkddRkG88fiqhPFafwhot7rRPZBlvJDRgJx/Vky68gPEgKj5gk4jNWDQOF0WqmADQSliN2RmQ/9sZO1+LZ0SbBiFOyYg4qHGEwlE2CqD4IAJRDRii9a5xpKSF/6gniHTl12yd4fioqjWtpdQQ0AhcVE/WDmYazGF9QQC+v1Q/QiYYPcyTcX6sNdEMQ0TdLNZn8u05Wq2tH+FG542LS7YhK1MCsgbZGqOezDA4Zy28dcPgpYfYA4g+mxJUwYVh9Dyutc5br43aNygdE9ZqCxyjo7OsIeop6LDvzw7w/SkKUKV4+Nl7HzxbYcIQ2lrZA5iw9YRKuWMVerZMMIyLVkxi6Vc6IIhlI8Vb452dOAthEstWKRQ6IEiZHD84rkRrg+5rKWugQ0JtWsdRSYBV3gYbxsjXGCWF6DcNyyDsGvIUNGfTeK2190a2Lf1GKEufikZxAtYMmpQXUSk4BkgNHBPVsMSjxEeHsgMQPdFQCJ7zb1wefwwclpjPPGg1AHHkYM6Em6KaNFuZ8oFuRTqqh6Vz18Jy3uc+jRP3J7aFj4hOzCJ94nbKMZYrQ09jKWp6TpCVnwjW5HyEkfXgqQeZ8IFml+UVQQejZ7l/PQUwoel+x+qzmyyhLpxEf2ool+MVJflvPS90M35tpp2G1QROg8srBAuZ5rrdEZ3TwO+pGhCTBifcJTqhQW4VKQsQhwk6Rag7dtonJrm94G8A/XxsRwWF7uRwBpAIUM1BTBwAiC5oQLOtLpsM0XkN/RnopIlVQz2cQR5D6BKhP8idV7BpwLainynlnZPdafeCgpWA7uQMukJ4iFoqLtJVQnMEuTaFQkBzYKPrhKYergIEYcklrgLo36PtK3qFIE5BLwDSLLaDIl4ALLMAXp1C9eEGgAmX23lPgFKXS3mXi5enIHygGwTcA6wa6BYBuAXIGugewd0EMIHuEv4DyXJgDPfCK6IAAAAASUVORK5CYII="},888:function(t,e,r){var n=r(896),o=r(897),c=r(898),l=r(899);t.exports=function(t){return n(t)||o(t)||c(t)||l()},t.exports.default=t.exports,t.exports.__esModule=!0},889:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWBAMAAAA2mnEIAAAALVBMVEX5rD75rD75rD75rD75rD75rD/5rD/5rD/5rD75rD/5rD75rD/5rD/5rD/5rD5fyIAMAAAADnRSTlMCkdkQMMNUIvFFg+WsZNscE4cAAADBSURBVBjTY2BgYGAReqfowAAGbF0ODCwrEsDsQOYcpWMGoiAm0wS5d+/ePeRUALIjrd+BwOapQNUC+ybse/fO8jVjAgMH47tmi3fPLd4JNDB42b17xP7Oed+7x0sYRPLevQsoYXr37pkjg8K5d+/eMMQBCSaGB3rvdO8y37307hEfiC1ezlBeA2ID1TwNNQ+NA6kB6l0AtJELpBdo5rt35kAMNBNoF4QNtAvohnfvPN+9A7kB2W0obkb2C4of4X4HAPLQaUz8SV+2AAAAAElFTkSuQmCC"},891:function(t,e,r){"use strict";r.r(e);var n={name:"Cover",mounted:function(){var t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.background="rgba(0, 0, 0, .4)",t.style.zIndex="20",t.id="cover",document.querySelector("body").appendChild(t)},destroyed:function(){var t=document.querySelector("#cover");t.parentNode.removeChild(t)},render:function(){return""}},o=r(12),component=Object(o.a)(n,void 0,void 0,!1,null,null,null);e.default=component.exports},892:function(t,e,r){},893:function(t,e){function r(t,e){for(var p in t)e[p]=t[p]}function n(t,e){var n=t.prototype;if(Object.create){var o=Object.create(e.prototype);n.__proto__=o}if(!(n instanceof e)){function c(){}c.prototype=e.prototype,r(n,c=new c),t.prototype=n=c}n.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),n.constructor=t)}var o={},c=o.ELEMENT_NODE=1,l=o.ATTRIBUTE_NODE=2,d=o.TEXT_NODE=3,h=o.CDATA_SECTION_NODE=4,f=o.ENTITY_REFERENCE_NODE=5,m=o.ENTITY_NODE=6,v=o.PROCESSING_INSTRUCTION_NODE=7,y=o.COMMENT_NODE=8,_=o.DOCUMENT_NODE=9,w=o.DOCUMENT_TYPE_NODE=10,T=o.DOCUMENT_FRAGMENT_NODE=11,C=o.NOTATION_NODE=12,A={},x={},E=(A.INDEX_SIZE_ERR=(x[1]="Index size error",1),A.DOMSTRING_SIZE_ERR=(x[2]="DOMString size error",2),A.HIERARCHY_REQUEST_ERR=(x[3]="Hierarchy request error",3)),S=(A.WRONG_DOCUMENT_ERR=(x[4]="Wrong document",4),A.INVALID_CHARACTER_ERR=(x[5]="Invalid character",5),A.NO_DATA_ALLOWED_ERR=(x[6]="No data allowed",6),A.NO_MODIFICATION_ALLOWED_ERR=(x[7]="No modification allowed",7),A.NOT_FOUND_ERR=(x[8]="Not found",8)),D=(A.NOT_SUPPORTED_ERR=(x[9]="Not supported",9),A.INUSE_ATTRIBUTE_ERR=(x[10]="Attribute in use",10));A.INVALID_STATE_ERR=(x[11]="Invalid state",11),A.SYNTAX_ERR=(x[12]="Syntax error",12),A.INVALID_MODIFICATION_ERR=(x[13]="Invalid modification",13),A.NAMESPACE_ERR=(x[14]="Invalid namespace",14),A.INVALID_ACCESS_ERR=(x[15]="Invalid access",15);function k(code,t){if(t instanceof Error)var e=t;else e=this,Error.call(this,x[code]),this.message=x[code],Error.captureStackTrace&&Error.captureStackTrace(this,k);return e.code=code,t&&(this.message=this.message+": "+t),e}function I(){}function N(t,e){this._node=t,this._refresh=e,U(this)}function U(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var n=t._refresh(t._node);lt(t,"length",n.length),r(n,t),t._inc=e}}function L(){}function P(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function R(t,e,r,n){if(n?e[P(e,n)]=r:e[e.length++]=r,t){r.ownerElement=t;var o=t.ownerDocument;o&&(n&&F(o,t,n),function(t,e,r){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(e._nsMap[r.prefix?r.localName:""]=r.value)}(o,t,r))}}function O(t,e,r){var i=P(e,r);if(!(i>=0))throw k(S,new Error(t.tagName+"@"+r));for(var n=e.length-1;i<n;)e[i]=e[++i];if(e.length=n,t){var o=t.ownerDocument;o&&(F(o,t,r),r.ownerElement=null)}}function M(t){if(this._features={},t)for(var e in t)this._features=t[e]}function B(){}function $(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function j(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(j(t,e))return!0}while(t=t.nextSibling)}function V(){}function F(t,e,r,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete e._nsMap[r.prefix?r.localName:""]}function z(t,e,r){if(t&&t._inc){t._inc++;var n=e.childNodes;if(r)n[n.length++]=r;else{for(var o=e.firstChild,i=0;o;)n[i++]=o,o=o.nextSibling;n.length=i}}}function Y(t,e){var r=e.previousSibling,n=e.nextSibling;return r?r.nextSibling=n:t.firstChild=n,n?n.previousSibling=r:t.lastChild=r,z(t.ownerDocument,t),e}function X(t,e,r){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===T){var o=e.firstChild;if(null==o)return e;var c=e.lastChild}else o=c=e;var pre=r?r.previousSibling:t.lastChild;o.previousSibling=pre,c.nextSibling=r,pre?pre.nextSibling=o:t.firstChild=o,null==r?t.lastChild=c:r.previousSibling=c;do{o.parentNode=t}while(o!==c&&(o=o.nextSibling));return z(t.ownerDocument||t,t),e.nodeType==T&&(e.firstChild=e.lastChild=null),e}function H(){this._nsMap={}}function G(){}function W(){}function Q(){}function K(){}function J(){}function Z(){}function tt(){}function et(){}function it(){}function nt(){}function st(){}function at(){}function ot(t,e){var r=[],n=9==this.nodeType?this.documentElement:this,o=n.prefix,c=n.namespaceURI;if(c&&null==o&&null==(o=n.lookupPrefix(c)))var l=[{namespace:c,prefix:null}];return ct(this,r,t,e,l),r.join("")}function ut(t,e,r){var n=t.prefix||"",o=t.namespaceURI;if(!n&&!o)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=r.length;i--;){var c=r[i];if(c.prefix==n)return c.namespace!=o}return!0}function ct(t,e,r,n,o){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case c:o||(o=[]);o.length;var m=t.attributes,C=m.length,A=t.firstChild,x=t.tagName;r="http://www.w3.org/1999/xhtml"===t.namespaceURI||r,e.push("<",x);for(var i=0;i<C;i++){"xmlns"==(E=m.item(i)).prefix?o.push({prefix:E.localName,namespace:E.value}):"xmlns"==E.nodeName&&o.push({prefix:"",namespace:E.value})}for(i=0;i<C;i++){var E;if(ut(E=m.item(i),0,o)){var S=E.prefix||"",D=E.namespaceURI,k=S?" xmlns:"+S:" xmlns";e.push(k,'="',D,'"'),o.push({prefix:S,namespace:D})}ct(E,e,r,n,o)}if(ut(t,0,o)){S=t.prefix||"",D=t.namespaceURI,k=S?" xmlns:"+S:" xmlns";e.push(k,'="',D,'"'),o.push({prefix:S,namespace:D})}if(A||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(x)){if(e.push(">"),r&&/^script$/i.test(x))for(;A;)A.data?e.push(A.data):ct(A,e,r,n,o),A=A.nextSibling;else for(;A;)ct(A,e,r,n,o),A=A.nextSibling;e.push("</",x,">")}else e.push("/>");return;case _:case T:for(A=t.firstChild;A;)ct(A,e,r,n,o),A=A.nextSibling;return;case l:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,$),'"');case d:return e.push(t.data.replace(/[<&]/g,$));case h:return e.push("<![CDATA[",t.data,"]]>");case y:return e.push("\x3c!--",t.data,"--\x3e");case w:var I=t.publicId,N=t.systemId;if(e.push("<!DOCTYPE ",t.name),I)e.push(' PUBLIC "',I),N&&"."!=N&&e.push('" "',N),e.push('">');else if(N&&"."!=N)e.push(' SYSTEM "',N,'">');else{var sub=t.internalSubset;sub&&e.push(" [",sub,"]"),e.push(">")}return;case v:return e.push("<?",t.target," ",t.data,"?>");case f:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function lt(object,t,e){object[t]=e}k.prototype=Error.prototype,r(A,k),I.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var r=[],i=0;i<this.length;i++)ct(this[i],r,t,e);return r.join("")}},N.prototype.item=function(i){return U(this),this[i]},n(N,I),L.prototype={length:0,item:I.prototype.item,getNamedItem:function(t){for(var i=this.length;i--;){var e=this[i];if(e.nodeName==t)return e}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new k(D);var r=this.getNamedItem(t.nodeName);return R(this._ownerElement,this,t,r),r},setNamedItemNS:function(t){var e,r=t.ownerElement;if(r&&r!=this._ownerElement)throw new k(D);return e=this.getNamedItemNS(t.namespaceURI,t.localName),R(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return O(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var r=this.getNamedItemNS(t,e);return O(this._ownerElement,this,r),r},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==t)return r}return null}},M.prototype={hasFeature:function(t,e){var r=this._features[t.toLowerCase()];return!(!r||e&&!(e in r))},createDocument:function(t,e,r){var n=new V;if(n.implementation=this,n.childNodes=new I,n.doctype=r,r&&n.appendChild(r),e){var o=n.createElementNS(t,e);n.appendChild(o)}return n},createDocumentType:function(t,e,r){var n=new Z;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=r,n}},B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return X(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return Y(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,r,n){var o=new r.constructor;for(var d in r){var h=r[d];"object"!=typeof h&&h!=o[d]&&(o[d]=h)}r.childNodes&&(o.childNodes=new I);switch(o.ownerDocument=e,o.nodeType){case c:var f=r.attributes,m=o.attributes=new L,v=f.length;m._ownerElement=o;for(var i=0;i<v;i++)o.setAttributeNode(t(e,f.item(i),!0));break;case l:n=!0}if(n)for(var y=r.firstChild;y;)o.appendChild(t(e,y,n)),y=y.nextSibling;return o}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==d&&t.nodeType==d?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var map=e._nsMap;if(map)for(var r in map)if(map[r]==t)return r;e=e.nodeType==l?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var map=e._nsMap;if(map&&t in map)return map[t];e=e.nodeType==l?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},r(o,B),r(o,B.prototype),V.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==T){for(var r=t.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,e),r=n}return t}return null==this.documentElement&&t.nodeType==c&&(this.documentElement=t),X(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),Y(this,t)},importNode:function(t,e){return function t(e,r,n){var o;switch(r.nodeType){case c:(o=r.cloneNode(!1)).ownerDocument=e;case T:break;case l:n=!0}o||(o=r.cloneNode(!1));if(o.ownerDocument=e,o.parentNode=null,n)for(var d=r.firstChild;d;)o.appendChild(t(e,d,n)),d=d.nextSibling;return o}(this,t,e)},getElementById:function(t){var e=null;return j(this.documentElement,(function(r){if(r.nodeType==c&&r.getAttribute("id")==t)return e=r,!0})),e},createElement:function(t){var e=new H;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new I,(e.attributes=new L)._ownerElement=e,e},createDocumentFragment:function(){var t=new nt;return t.ownerDocument=this,t.childNodes=new I,t},createTextNode:function(data){var t=new Q;return t.ownerDocument=this,t.appendData(data),t},createComment:function(data){var t=new K;return t.ownerDocument=this,t.appendData(data),t},createCDATASection:function(data){var t=new J;return t.ownerDocument=this,t.appendData(data),t},createProcessingInstruction:function(t,data){var e=new st;return e.ownerDocument=this,e.tagName=e.target=t,e.nodeValue=e.data=data,e},createAttribute:function(t){var e=new G;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new it;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var r=new H,n=e.split(":"),o=r.attributes=new L;return r.childNodes=new I,r.ownerDocument=this,r.nodeName=e,r.tagName=e,r.namespaceURI=t,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,o._ownerElement=r,r},createAttributeNS:function(t,e){var r=new G,n=e.split(":");return r.ownerDocument=this,r.nodeName=e,r.name=e,r.namespaceURI=t,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=e,r}},n(V,B),H.prototype={nodeType:c,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var r=this.ownerDocument.createAttribute(t);r.value=r.nodeValue=""+e,this.setAttributeNode(r)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===T?this.insertBefore(t,null):function(t,e){var r=e.parentNode;if(r){var pre=t.lastChild;r.removeChild(e);pre=t.lastChild}return pre=t.lastChild,e.parentNode=t,e.previousSibling=pre,e.nextSibling=null,pre?pre.nextSibling=e:t.firstChild=e,t.lastChild=e,z(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);r&&this.removeAttributeNode(r)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var r=this.getAttributeNodeNS(t,e);return r&&r.value||""},setAttributeNS:function(t,e,r){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new N(this,(function(base){var e=[];return j(base,(function(r){r===base||r.nodeType!=c||"*"!==t&&r.tagName!=t||e.push(r)})),e}))},getElementsByTagNameNS:function(t,e){return new N(this,(function(base){var r=[];return j(base,(function(n){n===base||n.nodeType!==c||"*"!==t&&n.namespaceURI!==t||"*"!==e&&n.localName!=e||r.push(n)})),r}))}},V.prototype.getElementsByTagName=H.prototype.getElementsByTagName,V.prototype.getElementsByTagNameNS=H.prototype.getElementsByTagNameNS,n(H,B),G.prototype.nodeType=l,n(G,B),W.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(text){text=this.data+text,this.nodeValue=this.data=text,this.length=text.length},insertData:function(t,text){this.replaceData(t,0,text)},appendChild:function(t){throw new Error(x[E])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,text){text=this.data.substring(0,t)+text+this.data.substring(t+e),this.nodeValue=this.data=text,this.length=text.length}},n(W,B),Q.prototype={nodeName:"#text",nodeType:d,splitText:function(t){var text=this.data,e=text.substring(t);text=text.substring(0,t),this.data=this.nodeValue=text,this.length=text.length;var r=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},n(Q,W),K.prototype={nodeName:"#comment",nodeType:y},n(K,W),J.prototype={nodeName:"#cdata-section",nodeType:h},n(J,W),Z.prototype.nodeType=w,n(Z,B),tt.prototype.nodeType=C,n(tt,B),et.prototype.nodeType=m,n(et,B),it.prototype.nodeType=f,n(it,B),nt.prototype.nodeName="#document-fragment",nt.prototype.nodeType=T,n(nt,B),st.prototype.nodeType=v,n(st,B),at.prototype.serializeToString=function(t,e,r){return ot.call(t,e,r)},B.prototype.toString=ot;try{if(Object.defineProperty){Object.defineProperty(N.prototype,"length",{get:function(){return U(this),this.$$length}}),Object.defineProperty(B.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case c:case T:var r=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&r.push(t(e)),e=e.nextSibling;return r.join("");default:return e.nodeValue}}(this)},set:function(data){switch(this.nodeType){case c:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(data||String(data))&&this.appendChild(this.ownerDocument.createTextNode(data));break;default:this.data=data,this.value=data,this.nodeValue=data}}}),lt=function(object,t,e){object["$$"+t]=e}}}catch(t){}e.DOMImplementation=M,e.XMLSerializer=at},896:function(t,e,r){var n=r(880);t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.default=t.exports,t.exports.__esModule=!0},897:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},898:function(t,e,r){var n=r(880);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},899:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},900:function(t,e,r){"use strict";r(881)},904:function(t,e,r){"use strict";r.r(e);var n={name:"UserItem",props:{item:{type:Object,default:function(){}},show:{type:String,default:"all"},isFollow:{type:Boolean,default:!1}},data:function(){return{}},methods:{toUser:function(){this.$router.push("/user/".concat(this.item.id))}}},o=(r(900),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-item-container",class:{simple:"simple"===t.show}},[r("div",{staticClass:"flex user-item",on:{click:function(e){return e.stopPropagation(),t.toUser(e)}}},[r("avatar",{attrs:{user:t.item,size:"simple"===t.show?40:45,round:!0}}),t._v(" "),r("div",{staticClass:"info"},[r("div",{staticClass:"flex"},[r("span",{staticClass:"name text-hidden"},[t._v(t._s(t.item.username))]),t._v(" "),"all"===t.show&&t.item.groupName?r("span",{staticClass:"role"},[t._v(t._s(t.item.groupName))]):t._e()]),t._v(" "),r("div",{staticClass:"flex count"},["all"===t.show?r("div",{staticClass:"count-item"},[t._v(t._s(t.$t("profile.topic"))+" "+t._s(t.item.threadCount||0))]):t._e(),t._v(" "),"all"===t.show?r("div",{staticClass:"count-item"},[t._v(t._s(t.$t("profile.following"))+" "+t._s(t.item.followCount||0))]):t._e(),t._v(" "),r("div",{staticClass:"count-item"},[t._v(t._s(t.$t("profile.followers"))+" "+t._s(t.item.fansCount||0))])])])],1),t._v(" "),t.isFollow?r("el-button",{staticClass:"follow",attrs:{type:"text"}},[t._v("\n    "+t._s(t.$t("profile.following"))+"\n  ")]):t._e()],1)}),[],!1,null,"ee325c6e",null);e.default=component.exports;installComponents(component,{Avatar:r(344).default})},910:function(t,e,r){"use strict";r(883)},911:function(t,e,r){"use strict";r.r(e);r(14),r(32);var n=r(873),o={name:"RecommendUser",mixins:[r.n(n).a],props:{list:{type:Array,default:function(){return[]}}},data:function(){return{userList:[],loading:!1,pageNum:1,pageSize:4}},computed:{forums:function(){return this.$store.state.site.info.attributes||{}}},watch:{list:{handler:function(t){this.userList=t},deep:!0}},mounted:function(){0===this.list.length?this.getList():this.userList=this.list},methods:{getList:function(){var t=this;this.userList=[],this.loading=!0;var e={include:"groups",limit:this.pageSize};this.$store.dispatch("jv/get",["users/recommended",{params:e}]).then((function(e){var data=e;e&&Array.isArray(e)&&data.forEach((function(t,i){data[i].groupName=t.groups[0]?t.groups[0].name:""})),t.userList=data}),(function(e){t.handleError(e)})).finally((function(){t.loading=!1}))},refresh:function(){this.getList()}}},c=(r(910),r(12)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"recommend-user-container"},[r("div",{staticClass:"recommend-user-title"},[t._v(t._s(t.$t("home.recommentUser")))]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"recommend-user-list"},[t._l(t.userList,(function(t,e){return r("user-item",{key:e,attrs:{item:t,show:"simple"}})})),t._v(" "),0===t.userList.length?r("div",{staticClass:"no-more"},[t._v(t._s(t.$t("discuzq.list.noData")))]):t._e()],2),t._v(" "),r("div",{staticClass:"refresh",on:{click:t.refresh}},[r("svg-icon",{staticClass:"icon",attrs:{type:"refresh"}}),t._v("\n    "+t._s(t.$t("home.refresh"))+"\n  ")],1)])}),[],!1,null,"00b4b6a3",null);e.default=component.exports;installComponents(component,{UserItem:r(904).default,SvgIcon:r(78).default})},913:function(t,e,r){},914:function(t,e,r){},915:function(t,e,r){},916:function(t,e,r){},917:function(t,e,r){},918:function(t,e,r){},919:function(t,e,r){},943:function(t,e,r){"use strict";r.r(e);var n={name:"ProductItem",props:{item:{type:Object,default:function(){}}},data:function(){return{}}},o=(r(976),r(12)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.item?r("a",{staticClass:"product-container",attrs:{href:t.item.detailContent,target:"_blank",el:"nofollow"}},[r("el-image",{staticClass:"image",attrs:{src:t.item.imagePath,alt:t.item.title,fit:"cover"}},[r("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[r("i",{staticClass:"el-icon-loading"})])]),t._v(" "),r("div",{staticClass:"info"},[r("div",{staticClass:"info-header"},[r("div",{staticClass:"title"},[t._v(t._s(t.item.title))]),t._v(" "),t.item.price>0?r("div",{staticClass:"price"},[t._v(t._s(t.$t("post.yuanItem")+t.item.price+t.$t("post.yuan")))]):t._e()]),t._v(" "),r("div",{staticClass:"btn"},[r("svg-icon",{staticClass:"icon",attrs:{type:"product-icon"}}),t._v(t._s(t.$t("post.buyProudct")))],1)])],1):t._e()}),[],!1,null,"2fed8472",null);e.default=component.exports;installComponents(component,{SvgIcon:r(78).default})},950:function(t,e,r){"use strict";r(892)},953:function(t,e,r){function n(t){this.options=t||{locator:{}}}function o(){this.cdata=!1}function c(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function l(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function d(t,e,r){return"string"==typeof t?t.substr(e,r):t.length>=e+r||e?new java.lang.String(t,e,r)+"":t}function h(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(source,t){var e=this.options,r=new f,n=e.domBuilder||new o,c=e.errorHandler,d=e.locator,h=e.xmlns||{},m={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return d&&n.setDocumentLocator(d),r.errorHandler=function(t,e,r){if(!t){if(e instanceof o)return e;t=e}var n={},c=t instanceof Function;function d(e){var o=t[e];!o&&c&&(o=2==t.length?function(r){t(e,r)}:t),n[e]=o&&function(t){o("[xmldom "+e+"]\t"+t+l(r))}||function(){}}return r=r||{},d("warning"),d("error"),d("fatalError"),n}(c,n,d),r.domBuilder=e.domBuilder||n,/\/x?html?$/.test(t)&&(m.nbsp=" ",m.copy="©",h[""]="http://www.w3.org/1999/xhtml"),h.xml=h.xml||"http://www.w3.org/XML/1998/namespace",source?r.parse(source,h,m):r.errorHandler.error("invalid doc source"),n.doc},o.prototype={startDocument:function(){this.doc=(new m).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,r,n){var o=this.doc,l=o.createElementNS(t,r||e),d=n.length;h(this,l),this.currentElement=l,this.locator&&c(this.locator,l);for(var i=0;i<d;i++){t=n.getURI(i);var f=n.getValue(i),m=(r=n.getQName(i),o.createAttributeNS(t,r));this.locator&&c(n.getLocator(i),m),m.value=m.nodeValue=f,l.setAttributeNode(m)}},endElement:function(t,e,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,data){var ins=this.doc.createProcessingInstruction(t,data);this.locator&&c(this.locator,ins),h(this,ins)},ignorableWhitespace:function(t,e,r){},characters:function(t,e,r){if(t=d.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&c(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,r){t=d.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&c(this.locator,n),h(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var dt=n.createDocumentType(t,e,r);this.locator&&c(this.locator,dt),h(this,dt)}},warning:function(t){console.warn("[xmldom warning]\t"+t,l(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,l(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,l(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){o.prototype[t]=function(){return null}}));var f=r(954).XMLReader,m=e.DOMImplementation=r(893).DOMImplementation;e.XMLSerializer=r(893).XMLSerializer,e.DOMParser=n},954:function(t,e){var r=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+r.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+r.source+n.source+"*(?::"+r.source+n.source+"*)?$");function c(){}function l(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function d(source,t,e,r,n,o){for(var c,p=++t,s=0;;){var l=source.charAt(p);switch(l){case"=":if(1===s)c=source.slice(t,p),s=3;else{if(2!==s)throw new Error("attribute equal must after attrName");s=3}break;case"'":case'"':if(3===s||1===s){if(1===s&&(o.warning('attribute value must after "="'),c=source.slice(t,p)),t=p+1,!((p=source.indexOf(l,t))>0))throw new Error("attribute value no end '"+l+"' match");d=source.slice(t,p).replace(/&#?\w+;/g,n),e.add(c,d,t-1),s=5}else{if(4!=s)throw new Error('attribute value must after "="');d=source.slice(t,p).replace(/&#?\w+;/g,n),e.add(c,d,t),o.warning('attribute "'+c+'" missed start quot('+l+")!!"),t=p+1,s=5}break;case"/":switch(s){case 0:e.setTagName(source.slice(t,p));case 5:case 6:case 7:s=7,e.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==s&&e.setTagName(source.slice(t,p)),p;case">":switch(s){case 0:e.setTagName(source.slice(t,p));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=source.slice(t,p)).slice(-1)&&(e.closed=!0,d=d.slice(0,-1));case 2:2===s&&(d=c),4==s?(o.warning('attribute "'+d+'" missed quot(")!!'),e.add(c,d.replace(/&#?\w+;/g,n),t)):("http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),e.add(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return p;case"":l=" ";default:if(l<=" ")switch(s){case 0:e.setTagName(source.slice(t,p)),s=6;break;case 1:c=source.slice(t,p),s=2;break;case 4:var d=source.slice(t,p).replace(/&#?\w+;/g,n);o.warning('attribute "'+d+'" missed quot(")!!'),e.add(c,d,t);case 5:s=6}else switch(s){case 2:e.tagName;"http://www.w3.org/1999/xhtml"===r[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),e.add(c,c,t),t=p,s=1;break;case 5:o.warning('attribute space is required"'+c+'"!!');case 6:s=1,t=p;break;case 3:s=4,t=p;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}p++}}function h(t,e,r){for(var n=t.tagName,o=null,i=t.length;i--;){var a=t[i],c=a.qName,l=a.value;if((m=c.indexOf(":"))>0)var d=a.prefix=c.slice(0,m),h=c.slice(m+1),f="xmlns"===d&&h;else h=c,d=null,f="xmlns"===c&&"";a.localName=h,!1!==f&&(null==o&&(o={},v(r,r={})),r[f]=o[f]=l,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(f,l))}for(i=t.length;i--;){(d=(a=t[i]).prefix)&&("xml"===d&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==d&&(a.uri=r[d||""]))}var m;(m=n.indexOf(":"))>0?(d=t.prefix=n.slice(0,m),h=t.localName=n.slice(m+1)):(d=null,h=t.localName=n);var y=t.uri=r[d||""];if(e.startElement(y,h,n,t),!t.closed)return t.currentNSMap=r,t.localNSMap=o,!0;if(e.endElement(y,h,n),o)for(d in o)e.endPrefixMapping(d)}function f(source,t,e,r,n){if(/^(?:script|textarea)$/i.test(e)){var o=source.indexOf("</"+e+">",t),text=source.substring(t+1,o);if(/[&<]/.test(text))return/^script$/i.test(e)?(n.characters(text,0,text.length),o):(text=text.replace(/&#?\w+;/g,r),n.characters(text,0,text.length),o)}return t+1}function m(source,t,e,r){var n=r[e];return null==n&&((n=source.lastIndexOf("</"+e+">"))<t&&(n=source.lastIndexOf("</"+e)),r[e]=n),n<t}function v(source,t){for(var e in source)t[e]=source[e]}function y(source,t,e,r){switch(source.charAt(t+2)){case"-":return"-"===source.charAt(t+3)?(n=source.indexOf("--\x3e",t+4))>t?(e.comment(source,t+4,n-t-4),n+3):(r.error("Unclosed comment"),-1):-1;default:if("CDATA["==source.substr(t+3,6)){var n=source.indexOf("]]>",t+9);return e.startCDATA(),e.characters(source,t+9,n-t-9),e.endCDATA(),n+3}var o=function(source,t){var e,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;n.lastIndex=t,n.exec(source);for(;e=n.exec(source);)if(r.push(e),e[1])return r}(source,t),c=o.length;if(c>1&&/!doctype/i.test(o[0][0])){var l=o[1][0],d=c>3&&/^public$/i.test(o[2][0])&&o[3][0],h=c>4&&o[4][0],f=o[c-1];return e.startDTD(l,d&&d.replace(/^(['"])(.*?)\1$/,"$2"),h&&h.replace(/^(['"])(.*?)\1$/,"$2")),e.endDTD(),f.index+f[0].length}}return-1}function _(source,t,e){var r=source.indexOf("?>",t);if(r){var n=source.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){n[0].length;return e.processingInstruction(n[1],n[2]),r+2}return-1}return-1}function w(source){}function T(t,e){return t.__proto__=e,t}c.prototype={parse:function(source,t,e){var r=this.domBuilder;r.startDocument(),v(t,t={}),function(source,t,e,r,n){function o(a){var t=a.slice(1,-1);return t in e?e[t]:"#"===t.charAt(0)?function(code){if(code>65535){var t=55296+((code-=65536)>>10),e=56320+(1023&code);return String.fromCharCode(t,e)}return String.fromCharCode(code)}(parseInt(t.substr(1).replace("x","0x"))):(n.error("entity not found:"+a),a)}function c(t){if(t>D){var e=source.substring(D,t).replace(/&#?\w+;/g,o);x&&v(D),r.characters(e,0,t-D),D=t}}function v(p,t){for(;p>=C&&(t=A.exec(source));)T=t.index,C=T+t[0].length,x.lineNumber++;x.columnNumber=p-T+1}var T=0,C=0,A=/.*(?:\r\n?|\n)|.*$/g,x=r.locator,E=[{currentNSMap:t}],S={},D=0;for(;;){try{var k=source.indexOf("<",D);if(k<0){if(!source.substr(D).match(/^\s*$/)){var I=r.doc,text=I.createTextNode(source.substr(D));I.appendChild(text),r.currentElement=text}return}switch(k>D&&c(k),source.charAt(k+1)){case"/":var N=source.indexOf(">",k+3),U=source.substring(k+2,N),L=E.pop();N<0?(U=source.substring(k+2).replace(/[\s<].*/,""),n.error("end tag name: "+U+" is not complete:"+L.tagName),N=k+1+U.length):U.match(/\s</)&&(U=U.replace(/[\s<].*/,""),n.error("end tag name: "+U+" maybe not complete"),N=k+1+U.length);var P=L.localNSMap,R=L.tagName==U;if(R||L.tagName&&L.tagName.toLowerCase()==U.toLowerCase()){if(r.endElement(L.uri,L.localName,U),P)for(var O in P)r.endPrefixMapping(O);R||n.fatalError("end tag name: "+U+" is not match the current start tagName:"+L.tagName)}else E.push(L);N++;break;case"?":x&&v(k),N=_(source,k,r);break;case"!":x&&v(k),N=y(source,k,r,n);break;default:x&&v(k);var M=new w,B=E[E.length-1].currentNSMap,$=(N=d(source,k,M,B,o,n),M.length);if(!M.closed&&m(source,N,M.tagName,S)&&(M.closed=!0,e.nbsp||n.warning("unclosed xml attribute")),x&&$){for(var j=l(x,{}),i=0;i<$;i++){var a=M[i];v(a.offset),a.locator=l(x,{})}r.locator=j,h(M,r,B)&&E.push(M),r.locator=x}else h(M,r,B)&&E.push(M);"http://www.w3.org/1999/xhtml"!==M.uri||M.closed?N++:N=f(source,N,M.tagName,o,r)}}catch(t){n.error("element parse error: "+t),N=-1}N>D?D=N:c(Math.max(k,D)+1)}}(source,t,e,r,this.errorHandler),r.endDocument()}},w.prototype={setTagName:function(t){if(!o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,r){if(!o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:r}},length:0,getLocalName:function(i){return this[i].localName},getLocator:function(i){return this[i].locator},getQName:function(i){return this[i].qName},getURI:function(i){return this[i].uri},getValue:function(i){return this[i].value}},T({},T.prototype)instanceof T||(T=function(t,e){function p(){}for(e in p.prototype=e,p=new p,t)p[e]=t[e];return p}),e.XMLReader=c},956:function(t,e,r){"use strict";r.r(e);var n=r(208),o={name:"CreatePostPopover",mixins:[r.n(n).a],data:function(){return{userId:this.$store.getters["session/get"]("userId"),visible:!1,noCreateThread:!1,can_create_thread:!0,can_create_thread_long:!0,can_create_thread_video:!0,can_create_thread_image:!0,can_create_thread_question:!0,can_create_thread_goods:!0,can_create_thread_ask:!0}},computed:{userInfo:function(){return this.$store.getters["jv/get"]("/users/".concat(this.userId))},forums:function(){return this.$store.state.site.info.attributes||{}},categoryId:function(){return this.$route.query.categoryId},types:function(){return this.$route.query.url},www:function(){return this.$route.path}},methods:{showAndHidePopover:function(){var t=this;if(this.$store.getters["session/get"]("isLogin")){if(!this.visible){var e=this.forums.other,r=this.userInfo;if(!e)return;if(!(e.can_create_thread||e.can_create_thread_long||e.can_create_thread_video||e.can_create_thread_image||e.can_create_thread_question||e.can_create_thread_goods||e.can_create_thread_ask))return this.$message.error(this.$t("home.noPostingPermission")),void this.$router.push("/my/vip");if(e.publish_need_real_name&&!r.realname)return void this.$message.error(this.$t("home.needRealname"));if(e.publish_need_bind_phone&&!r.mobile)return void this.$message.error(this.$t("home.needPhone"));if(!e.can_create_thread_in_category)return void this.$message.error(this.$t("home.noPostingCategory"));if(this.categoryId)this.$store.getters["jv/get"]("categories/".concat(this.categoryId)).canCreateThread||this.$message.error(this.$t("home.noPostingCategory"));e.can_create_thread||(this.can_create_thread=!1),e.can_create_thread_long||(this.can_create_thread_long=!1),e.can_create_thread_video||(this.can_create_thread_video=!1),e.can_create_thread_image||(this.can_create_thread_image=!1),e.can_create_thread_question||(this.can_create_thread_question=!1),e.can_create_thread_goods||(this.can_create_thread_goods=!1),e.can_create_thread_ask||(this.can_create_thread_ask=!1)}this.visible=!this.visible}else this.$message.warning("请登录"),window.setTimeout((function(){t.headerTologin()}),1e3)},toRouter:function(t){this.$router.push("/thread/postpay?type=".concat(t).concat(this.categoryId?"&categoryId=".concat(this.categoryId):""))}}},c=(r(950),r(12)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-popover",{attrs:{placement:"bottom",width:"120","min-width":"120",trigger:"manual","popper-class":"custom-popover-width"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[r("ul",{staticClass:"type-container"},[t.can_create_thread?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(0)}}},[t._v("\n        "+t._s(t.$t("home.word"))+"\n      ")]):t._e(),t._v(" "),t.can_create_thread_long?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(1)}}},[t._v("\n        "+t._s(t.$t("home.invitation"))+"\n      ")]):t._e(),t._v(" "),t.can_create_thread_image?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(3)}}},[t._v("\n        "+t._s(t.$t("home.picture"))+"\n      ")]):t._e(),t._v(" "),t.can_create_thread_video?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(2)}}},[t._v("\n        "+t._s(t.$t("home.video"))+"\n      ")]):t._e(),t._v(" "),t.can_create_thread_question?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(5)}}},[t._v("\n        "+t._s(t.$t("home.question"))+"\n      ")]):t._e(),t._v(" "),t.can_create_thread_goods?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(6)}}},[t._v("\n        "+t._s(t.$t("home.product"))+"\n      ")]):t._e(),t._v(" "),t.can_create_thread_ask?r("li",{on:{click:function(e){return e.stopPropagation(),t.toRouter(14)}}},[t._v("\n        "+t._s(t.$t("home.ask"))+"\n      ")]):t._e()]),t._v(" "),r("template",{slot:"reference"},[t._t("button",[r("el-button",{staticClass:"new-post",attrs:{type:"primary"},on:{click:t.showAndHidePopover}},[t._v("\n          \n          \n          "+t._s(t.$t("profile.post"))),r("span",{staticClass:"add-icon"},[t._v("+")])])])],2)],2)],1)}),[],!1,null,"b4f15e32",null);e.default=component.exports},964:function(t,e,r){"use strict";var strong=r(346),n=r(211);t.exports=r(345)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(n(this,"Set"),t=0===t?0:t,t)}},strong)},965:function(t,e,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,r(25))},973:function(t,e,r){var n=r(888);t.exports={methods:{handleThreadList:function(t,data,e){if(Array.isArray(data)){this.newData=t,this.hasMore=t.currentPage<t.totalPage;var r=n(data);1===this.pageNum&&this.threadIdSet.clear();for(var i=0;i<r.length;i++)r[i]&&r[i].thread.pid&&(this.threadIdSet.has(r[i].thread.pid)?(r.splice(i,1),i--):this.threadIdSet.add(r[i].thread.pid));this.threadCount=t.totalCount||0,1===this.pageNum?this[e]=r:this[e]=[].concat(n(this[e]),n(r)),t&&(this.hasMore=t.currentPage<t.totalPage),this.pageNum+=1}}}}},974:function(t,e,r){"use strict";r(913)},975:function(t,e,r){"use strict";r(914)},976:function(t,e,r){"use strict";r(915)},979:function(t,e,r){"use strict";r(916)},980:function(t,e,r){"use strict";r(917)},981:function(t,e,r){"use strict";r(918)},982:function(t,e,r){"use strict";r(919)}}]);